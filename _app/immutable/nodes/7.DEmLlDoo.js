import{b as J,d as te,a as C,t as z,n as ae}from"../chunks/disclose-version.C6y0ohnU.js";import{b as se,h as K,M as Q,c as ie,e as U,ai as le,aw as oe,av as ne,P as de,ac as D,d as ue,ap as ce,y as G,v,w as b,p as Z,az as W,aA as _e,a as q,l as o,aB as X,s as n,aC as $,m as F,x as w,t as x,o as fe,f as ve,aD as ee}from"../chunks/runtime.CAD8VR5C.js";import{p as g,u as be,i as re,a as j}from"../chunks/props.Bje3ZE7K.js";import{M as ge,S as me}from"../chunks/MidiBoardGrid.CJ_BKHgK.js";import{b as pe}from"../chunks/paths.DHHCQfCo.js";import{s as Y,h as he,j as ye,b as xe,a as we,c as ke,i as H,l as T}from"../chunks/data.DghzS6zA.js";import{a as S,d as je}from"../chunks/store.CwYFn7uV.js";import"../chunks/legacy.CzOlOoA5.js";import{i as Me}from"../chunks/lifecycle.B7lD6u4m.js";import{G as Be}from"../chunks/GIF.MK8y5Pl3.js";import{g as Ce}from"../chunks/entry.B_acQqHi.js";function Ge(m,e,t,a,u){var s=m,i="",c;se(()=>{if(i===(i=e()??"")){K&&Q();return}c!==void 0&&(ue(c),c=void 0),i!==""&&(c=ie(()=>{if(K){U.data;for(var r=Q(),d=r;r!==null&&(r.nodeType!==8||r.data!=="");)d=r,r=le(r);if(r===null)throw oe(),ne;J(U,d),s=de(r);return}var _=i+"";_=`<svg>${_}</svg>`;var l=te(_);for(l=D(l),J(D(l),l.lastChild);D(l);)s.before(D(l))}))})}function ze(m,e,t,a,u){var s=()=>{a(t[m])};t.addEventListener(e,s),s(),(t===document.body||t===window||t===document)&&ce(()=>{t.removeEventListener(e,s)})}var Ie=z(`<div><div><div class="flex flex-row justify-center items-center w-5/6 h-5/6 rounded-full bg-gray-800


            "><div class="flex flex-row justify-center items-center w-5/6 h-5/6 rounded-full bg-gray-800
                            border-t-gray-300 border-t-2
                            border-b-gray-300 border-b-2
                            border-l-gray-800 border-l-2
                            border-r-gray-800 border-r-2"><div class="flex flex-row justify-center items-center w-5/6 h-5/6 rounded-full bg-gray-800
                            border-t-gray-300 border-t-2
                            border-b-gray-300 border-b-2
                            border-l-gray-800 border-l-2
                            border-r-gray-800 border-r-2"><div class="flex flex-row justify-center items-center w-5/6 h-5/6 rounded-full bg-gray-800
                            border-t-gray-300 border-t-2
                            border-b-gray-300 border-b-2
                            border-l-gray-800 border-l-2
                            border-r-gray-800 border-r-2"><div class="flex flex-row justify-center items-center w-4/6 h-4/6 rounded-full bg-red-800"><div class="flex flex-row justify-center items-center w-1/6 h-1/6 rounded-full bg-white"></div></div></div></div></div></div></div></div>`);function Ne(m,e){let t=g(e,"spinning",3,!1),a=g(e,"height",3,"h-min-1/10 h-full");var u=Ie(),s=v(u);b(u),G(()=>{Y(u,`flex flex-row justify-center items-center ${a()??""}`),Y(s,`flex flex-row justify-center items-center w-full h-full rounded-full bg-gray-600 ${(t()?"animate-spin-slow":"")??""}`)}),C(m,u)}var Ae=ae("<svg><!></svg>");function Le(m,e){Z(e,!1);let t=g(e,"src",8),a=g(e,"size",8,"1em"),u=g(e,"viewBox",24,()=>{}),s=g(e,"color",8,"currentColor"),i=g(e,"title",24,()=>{}),c=g(e,"className",8,""),r=X(),d=X({});W(()=>(F(s()),F(t())),()=>{n(d,{}),s()&&(t().a.stroke!=="none"&&$(d,o(d).stroke="currentColor"),t().a.fill!=="none"&&$(d,o(d).fill="currentColor"))}),W(()=>(F(i()),F(t())),()=>{n(r,(i()?`<title>${i()}</title>`:"")+t().c)}),_e(),Me();var _=Ae();let l;var k=v(_);Ge(k,()=>o(r)),b(_),G(()=>l=he(_,l,{width:a(),height:a(),viewBox:u(),style:s()?"color: "+s()+";":"","stroke-width":"0",class:c(),...t().a,...o(d),xmlns:"http://www.w3.org/2000/svg"},void 0,!0)),C(m,_),q()}const Re={a:{viewBox:"0 0 384 512"},c:'<path d="M73 39c-14.8-9.1-33.4-9.4-48.5-.9S0 62.6 0 80V432c0 17.4 9.4 33.4 24.5 41.9s33.7 8.1 48.5-.9L361 297c14.3-8.7 23-24.2 23-41s-8.7-32.2-23-41L73 39z"></path>'};var Se=z('<div class="grid grid-cols-2 bg-blue-200 border-gray-500 border-2 text-xs lg:text-2xl"><span class="border-2 p-1  border-gray-500">Geh√∂rt</span> <span class="border-2 p-1 items-center border-gray-500"> </span> <span class="border-2 p-1  border-gray-500">Versuche</span> <span class="border-2 p-1 items-center  border-gray-500"> </span> <span class="border-2 p-1  border-gray-500">Zeit</span> <span class="border-2 p-1 items-center border-gray-500"> </span></div>');function Ee(m,e){let t=g(e,"time",11,0),a=g(e,"tries",11,0),u=g(e,"repeats",11,0);var s=Se(),i=w(v(s),2),c=v(i,!0);b(i);var r=w(i,4),d=v(r,!0);b(r);var _=w(r,4),l=v(_,!0);b(_),b(s),G(()=>{S(c,u()),S(d,a()),S(l,t())}),C(m,s)}var Ve=(m,e)=>e(),De=z(`<div class="flex flex-col justify-evenly items-center h-full w-full"><div class="h-52  w-52 max-lg:hidden"><!></div> <div class="flex flex-row justify-evenly items-stretch"><span class="h-fit w-full bg-green-500 text-white text-xl font-bold border-4 border-gray-500 p-1 ml-1"> </span> <span class="h-fit w-full bg-green-500 text-white text-xl font-bold border-4 border-gray-500 p-1"> </span></div> <div><!></div> <button class="
            flex
            flex-col
            justify-center
            w-5/6
            h-1/6
            bg-blue-400
            rounded-lg
            cursor-pointer
            select-none
            active:translate-y-2  active:[box-shadow:0_0px_0_0_#1b6ff8,0_0px_0_0_#1b70f841]
            active:border-b-[0px]
            transition-all duration-150 [box-shadow:0_8px_0_0_#477aba,0_13px_0_0_#1b70f841]
            border-[1px]
            p-3
        "><!></button> <audio></audio></div>`);function Fe(m,e){let t=g(e,"sound_level_float",15,.5),a=g(e,"track_paused",15,!0),u=g(e,"time",7,0),s=g(e,"tries",7,0),i=g(e,"repeats",7,0),c=x(0),r=x(0);function d(){n(r,0),a(!1),be(i)}function _(f){if(isNaN(f))return"...";const P=Math.floor(f/60),M=Math.floor(f%60);return`${P}:${M<10?`0${M}`:M}`}var l=De(),k=v(l),N=v(k),h=fe(()=>!a());Ne(N,{get spinning(){return o(h)}}),b(k);var y=w(k,2),B=v(y),A=v(B,!0);G(()=>S(A,_(o(r)))),b(B);var E=w(B,2),L=v(E,!0);G(()=>S(L,_(o(c)))),b(E),b(y);var R=w(y,2),V=v(R);Ee(V,{get time(){return u()},set time(f){u(f)},get repeats(){return i()},set repeats(f){i(f)},get tries(){return s()},set tries(f){s(f)}}),b(R);var I=w(R,2);I.__click=[Ve,d];var O=v(I);Le(O,{size:"100%",color:"white",src:Re}),b(I);var p=w(I,2);b(l),G(()=>ke(p,"src",e.track_source)),ye(p,()=>o(r),f=>n(r,f)),ze("duration","durationchange",p,f=>n(c,f)),xe(p,a),we(p,t),C(m,l)}je(["click"]);var He=z('<div class="absolute top-0 left-0"><!></div>'),Oe=z('<div><div class="basis-2/12"><!></div> <div class="basis-8/12 "><!></div> <div class="basis-1/12 "><!></div></div> <!>',1);function Pe(m,e){Z(e,!0);let t=g(e,"board_bg_color",3,"bg-[#252525]"),a=x(.4);function u(p,f){n(l,!1),n(i,!0),n(d,f==e.correct_instrument_id),n(r,!0),n(c,!1)}function s(){o(d)?Ce("/"):(ee(k),n(l,!0),n(r,!1))}let i=x(!1),c=x(!1),r=x(!1),d=x(!1),_=x(0),l=x(!0),k=x(0),N=0;function h(){setInterval(()=>{o(l)&&ee(_)},1e3)}h();var y=Oe(),B=ve(y),A=v(B),E=v(A);Fe(E,{get time(){return o(_)},get track_source(){return e.track_source},get sound_level_float(){return o(a)},set sound_level_float(p){n(a,j(p))},get track_paused(){return o(i)},set track_paused(p){n(i,j(p))},get tries(){return o(k)},get repeats(){return N}}),b(A);var L=w(A,2),R=v(L);ge(R,{get sound_level_float(){return o(a)},set sound_level_float(p){n(a,j(p))},get active_tile_list(){return e.active_tile_list},get pause_tile_list(){return e.pause_tile_list},use_tile_sounds:!1,get instruments(){return e.instruments},onmouseup:u}),b(L);var V=w(L,2),I=v(V);me(I,{get sound_level_float(){return o(a)},set sound_level_float(p){n(a,j(p))}}),b(V),b(B);var O=w(B,2);re(O,()=>o(r),p=>{var f=He(),P=v(f);Be(P,{get success(){return o(d)},set success(M){n(d,j(M))},onclick:s,get gif_sound_pause(){return o(c)},set gif_sound_pause(M){n(c,j(M))},get volume(){return o(a)},set volume(M){n(a,j(M))}}),b(f),C(p,f)}),G(()=>Y(B,`
            flex
            flex-row
            justify-evenly
            rounded-2xl
            ${t()??""}
            w-full
            h-full
            p-3
            lg:p-10
            border-b-gray-600
            border-l-gray-200
            border-t-gray-400
            border-r-gray-400
            border-b-[20px]
            border-l-[10px]
            border-r-[10px]
            border-t-[10px]
            shadow-2xl [rotate-y-20deg]`)),C(m,y),q()}var Te=z("<h1>Gewonnen</h1>"),Ye=z('<div class="h-screen w-screen p-5 bg-blue-200"><!> <!></div>');function tr(m,e){Z(e,!0);let t=0,a=[],u=x(-1),s=x(!1);for(let h=0;h<H.length;(h+=1)-1)H[h].id in T[t].instrument_ids&&(a.push(H[h]),H[h].id==T[t].correct_id&&n(u,j(h)));let i=a.length;const c=j(Array(i).fill(!1)),r=j(Array(i).fill(!0));let d=pe+"/audios/"+T[t].track_path;function _(h=!1,y){c[y]=!c[y],y==o(u)&&!h&&n(s,!0)}var l=Ye(),k=v(l);Pe(k,{instruments:a,get active_tile_list(){return c},get pause_tile_list(){return r},board_bg_color:"bg-gray-300",onmouseup:_,track_source:d,get correct_instrument_id(){return o(u)}});var N=w(k,2);re(N,()=>o(s),h=>{var y=Te();C(h,y)}),b(l),C(m,l),q()}export{tr as component};
