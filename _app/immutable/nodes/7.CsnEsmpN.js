import{b as Z,d as te,a as G,t as A,n as ae}from"../chunks/disclose-version.BNgU4K-H.js";import{b as se,h as J,T as K,c as ie,e as Q,an as le,ar as oe,aq as ne,X as de,ai as V,d as ue,A as ce,y as M,g as v,r as b,p as X,aA as U,aB as _e,a as Y,o,aC as W,v as n,aD as $,q,s as w,w as x,t as fe,f as ve,aE as ee}from"../chunks/runtime.DuCQTMz_.js";import{p as g,u as be,i as re,a as j}from"../chunks/props.CTwwBnVA.js";import{M as ge,S as me}from"../chunks/MidiBoardGrid.C4V2MeAn.js";import{b as pe}from"../chunks/paths.DKa7ajtT.js";import{s as P,h as he,j as ye,b as xe,a as we,c as ke,i as D,l as O}from"../chunks/data.Bl9fuj5g.js";import{a as R}from"../chunks/store.BpnkWgbg.js";import{d as je}from"../chunks/events.ClcOBALn.js";import"../chunks/legacy.6i3XHvwu.js";import{i as Be}from"../chunks/lifecycle.CF_1y0XT.js";import{G as Ce}from"../chunks/GIF.012R9iq5.js";import{g as Ge}from"../chunks/entry.BCgfWuSz.js";function Me(m,e,t,a,u){var s=m,i="",c;se(()=>{if(i===(i=e()??"")){J&&K();return}c!==void 0&&(ue(c),c=void 0),i!==""&&(c=ie(()=>{if(J){Q.data;for(var r=K(),d=r;r!==null&&(r.nodeType!==8||r.data!=="");)d=r,r=le(r);if(r===null)throw oe(),ne;Z(Q,d),s=de(r);return}var _=i+"";_=`<svg>${_}</svg>`;var l=te(_);for(l=V(l),Z(V(l),l.lastChild);V(l);)s.before(V(l))}))})}function Ae(m,e,t,a,u){var s=()=>{a(t[m])};t.addEventListener(e,s),s(),(t===document.body||t===window||t===document)&&ce(()=>{t.removeEventListener(e,s)})}var Ie=A(`<div><div><div class="flex flex-row justify-center items-center w-5/6 h-5/6 rounded-full bg-gray-800


            "><div class="flex flex-row justify-center items-center w-5/6 h-5/6 rounded-full bg-gray-800
                            border-t-gray-300 border-t-2
                            border-b-gray-300 border-b-2
                            border-l-gray-800 border-l-2
                            border-r-gray-800 border-r-2"><div class="flex flex-row justify-center items-center w-5/6 h-5/6 rounded-full bg-gray-800
                            border-t-gray-300 border-t-2
                            border-b-gray-300 border-b-2
                            border-l-gray-800 border-l-2
                            border-r-gray-800 border-r-2"><div class="flex flex-row justify-center items-center w-5/6 h-5/6 rounded-full bg-gray-800
                            border-t-gray-300 border-t-2
                            border-b-gray-300 border-b-2
                            border-l-gray-800 border-l-2
                            border-r-gray-800 border-r-2"><div class="flex flex-row justify-center items-center w-4/6 h-4/6 rounded-full bg-red-800"><div class="flex flex-row justify-center items-center w-1/6 h-1/6 rounded-full bg-white"></div></div></div></div></div></div></div></div>`);function Ne(m,e){let t=g(e,"spinning",3,!1),a=g(e,"height",3,"h-min-1/10 h-full");var u=Ie(),s=v(u);b(u),M(()=>{P(u,`flex flex-row justify-center items-center ${a()??""}`),P(s,`flex flex-row justify-center items-center w-full h-full rounded-full bg-gray-600 ${(t()?"animate-spin-slow":"")??""}`)}),G(m,u)}var ze=ae("<svg><!></svg>");function Ee(m,e){X(e,!1);let t=g(e,"src",8),a=g(e,"size",8,"1em"),u=g(e,"viewBox",24,()=>{}),s=g(e,"color",8,"currentColor"),i=g(e,"title",24,()=>{}),c=g(e,"className",8,""),r=W(),d=W({});U(()=>(q(s()),q(t())),()=>{n(d,{}),s()&&(t().a.stroke!=="none"&&$(d,o(d).stroke="currentColor"),t().a.fill!=="none"&&$(d,o(d).fill="currentColor"))}),U(()=>(q(i()),q(t())),()=>{n(r,(i()?`<title>${i()}</title>`:"")+t().c)}),_e(),Be();var _=ze();let l;var k=v(_);Me(k,()=>o(r)),b(_),M(()=>l=he(_,l,{width:a(),height:a(),viewBox:u(),style:s()?"color: "+s()+";":"","stroke-width":"0",class:c(),...t().a,...o(d),xmlns:"http://www.w3.org/2000/svg"},void 0,!0)),G(m,_),Y()}const Le={a:{viewBox:"0 0 384 512"},c:'<path d="M73 39c-14.8-9.1-33.4-9.4-48.5-.9S0 62.6 0 80V432c0 17.4 9.4 33.4 24.5 41.9s33.7 8.1 48.5-.9L361 297c14.3-8.7 23-24.2 23-41s-8.7-32.2-23-41L73 39z"></path>'};var Re=A('<div class="grid grid-cols-2 bg-blue-200 border-gray-500 border-2 text-xs lg:text-2xl"><span class="border-2 p-1  border-gray-500">Geh√∂rt</span> <span class="border-2 p-1 items-center border-gray-500"> </span> <span class="border-2 p-1  border-gray-500">Versuche</span> <span class="border-2 p-1 items-center  border-gray-500"> </span> <span class="border-2 p-1  border-gray-500">Zeit</span> <span class="border-2 p-1 items-center border-gray-500"> </span></div>');function Se(m,e){let t=g(e,"time",11,0),a=g(e,"tries",11,0),u=g(e,"repeats",11,0);var s=Re(),i=w(v(s),2),c=v(i,!0);b(i);var r=w(i,4),d=v(r,!0);b(r);var _=w(r,4),l=v(_,!0);b(_),b(s),M(()=>{R(c,u()),R(d,a()),R(l,t())}),G(m,s)}var Te=(m,e)=>e(),Ve=A(`<div class="flex flex-col justify-evenly items-center h-full w-full"><div class="h-52  w-52 max-lg:hidden"><!></div> <div class="flex flex-row justify-evenly items-stretch"><span class="h-fit w-full bg-green-500 text-white text-xl font-bold border-4 border-gray-500 p-1 ml-1"> </span> <span class="h-fit w-full bg-green-500 text-white text-xl font-bold border-4 border-gray-500 p-1"> </span></div> <div><!></div> <button class="
            flex
            flex-col
            justify-center
            w-5/6
            h-1/6
            bg-blue-400
            rounded-lg
            cursor-pointer
            select-none
            active:translate-y-2  active:[box-shadow:0_0px_0_0_#1b6ff8,0_0px_0_0_#1b70f841]
            active:border-b-[0px]
            transition-all duration-150 [box-shadow:0_8px_0_0_#477aba,0_13px_0_0_#1b70f841]
            border-[1px]
            p-3
        "><!></button> <audio></audio></div>`);function qe(m,e){let t=g(e,"sound_level_float",15,.5),a=g(e,"track_paused",15,!0),u=g(e,"time",7,0),s=g(e,"tries",7,0),i=g(e,"repeats",7,0),c=x(0),r=x(0);function d(){n(r,0),a(!1),be(i)}function _(f){if(isNaN(f))return"...";const H=Math.floor(f/60),B=Math.floor(f%60);return`${H}:${B<10?`0${B}`:B}`}var l=Ve(),k=v(l),N=v(k),h=fe(()=>!a());Ne(N,{get spinning(){return o(h)}}),b(k);var y=w(k,2),C=v(y),z=v(C,!0);M(()=>R(z,_(o(r)))),b(C);var S=w(C,2),E=v(S,!0);M(()=>R(E,_(o(c)))),b(S),b(y);var L=w(y,2),T=v(L);Se(T,{get time(){return u()},set time(f){u(f)},get repeats(){return i()},set repeats(f){i(f)},get tries(){return s()},set tries(f){s(f)}}),b(L);var I=w(L,2);I.__click=[Te,d];var F=v(I);Ee(F,{size:"100%",color:"white",src:Le}),b(I);var p=w(I,2);b(l),M(()=>ke(p,"src",e.track_source)),ye(p,()=>o(r),f=>n(r,f)),Ae("duration","durationchange",p,f=>n(c,f)),xe(p,a),we(p,t),G(m,l)}je(["click"]);var De=A('<div class="absolute top-0 left-0"><!></div>'),Fe=A('<div><div class="basis-2/12"><!></div> <div class="basis-8/12 "><!></div> <div class="basis-1/12 "><!></div></div> <!>',1);function He(m,e){X(e,!0);let t=g(e,"board_bg_color",3,"bg-[#252525]"),a=x(.4);function u(p,f){n(l,!1),n(i,!0),n(d,f==e.correct_instrument_id),n(r,!0),n(c,!1)}function s(){o(d)?Ge("/"):(ee(k),n(l,!0),n(r,!1))}let i=x(!1),c=x(!1),r=x(!1),d=x(!1),_=x(0),l=x(!0),k=x(0),N=0;function h(){setInterval(()=>{o(l)&&ee(_)},1e3)}h();var y=Fe(),C=ve(y),z=v(C),S=v(z);qe(S,{get time(){return o(_)},get track_source(){return e.track_source},get sound_level_float(){return o(a)},set sound_level_float(p){n(a,j(p))},get track_paused(){return o(i)},set track_paused(p){n(i,j(p))},get tries(){return o(k)},get repeats(){return N}}),b(z);var E=w(z,2),L=v(E);ge(L,{get sound_level_float(){return o(a)},set sound_level_float(p){n(a,j(p))},get active_tile_list(){return e.active_tile_list},get pause_tile_list(){return e.pause_tile_list},use_tile_sounds:!1,get instruments(){return e.instruments},onmouseup:u}),b(E);var T=w(E,2),I=v(T);me(I,{get sound_level_float(){return o(a)},set sound_level_float(p){n(a,j(p))}}),b(T),b(C);var F=w(C,2);re(F,()=>o(r),p=>{var f=De(),H=v(f);Ce(H,{get success(){return o(d)},set success(B){n(d,j(B))},onclick:s,get gif_sound_pause(){return o(c)},set gif_sound_pause(B){n(c,j(B))},get volume(){return o(a)},set volume(B){n(a,j(B))}}),b(f),G(p,f)}),M(()=>P(C,`
            flex
            flex-row
            justify-evenly
            rounded-2xl
            ${t()??""}
            w-full
            h-full
            p-3
            lg:p-10
            border-b-gray-600
            border-l-gray-200
            border-t-gray-400
            border-r-gray-400
            border-b-[20px]
            border-l-[10px]
            border-r-[10px]
            border-t-[10px]
            shadow-2xl [rotate-y-20deg]`)),G(m,y),Y()}var Oe=A("<h1>Gewonnen</h1>"),Pe=A('<div class="h-screen w-screen p-5 bg-blue-200"><!> <!></div>');function ar(m,e){X(e,!0);let t=0,a=[],u=x(-1),s=x(!1);for(let h=0;h<D.length;(h+=1)-1)D[h].id in O[t].instrument_ids&&(a.push(D[h]),D[h].id==O[t].correct_id&&n(u,j(h)));let i=a.length;const c=j(Array(i).fill(!1)),r=j(Array(i).fill(!0));let d=pe+"/audios/"+O[t].track_path;function _(h=!1,y){c[y]=!c[y],y==o(u)&&!h&&n(s,!0)}var l=Pe(),k=v(l);He(k,{instruments:a,get active_tile_list(){return c},get pause_tile_list(){return r},board_bg_color:"bg-gray-300",onmouseup:_,track_source:d,get correct_instrument_id(){return o(u)}});var N=w(k,2);re(N,()=>o(s),h=>{var y=Oe();G(h,y)}),b(l),G(m,l),Y()}export{ar as component};
