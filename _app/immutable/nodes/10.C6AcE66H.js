import{a as R,t as B}from"../chunks/CYx-rXx-.js";import{c as d,r as u,e as _,t as D,p as T,b as v,a as E,g as e,s as o,d as J}from"../chunks/BuHArsY0.js";import{i as A}from"../chunks/BRjXdOdS.js";import{e as q,i as H}from"../chunks/BQh-kVlY.js";import{b as K,p}from"../chunks/BWkvJX5E.js";import{o as L}from"../chunks/3z7p6Gb1.js";import{d as N}from"../chunks/rKodDvQ3.js";import{a as x,s as z}from"../chunks/CqptiWKP.js";import{b as O,R as Q,g as U,a as G,s as V,G as W}from"../chunks/B5Nd_4hB.js";import{b}from"../chunks/iVnMTv6p.js";import{g as X}from"../chunks/Cn5nZ_lN.js";var Y=B('<div class="flex flex-col items-center justify-center justify-items-center"><button class="perspective-1000 flex h-[200px] w-[200px] cursor-pointer flex-col items-center justify-center svelte-zysx8r"><div><div class="backface-hidden absolute h-full w-full rounded-l border-4 border-blue-900 svelte-zysx8r"><img alt="Front" class="h-full w-full object-cover shadow-lg"></div> <div><img alt="Back" class="h-full w-full object-cover shadow-lg"></div></div> <audio></audio></button></div>');function Z(w,i){let a=K(i,"paused",15,!0);var l=Y(),r=d(l);r.__mouseup=function(...g){var m;(m=i.onmouseup)==null||m.apply(this,g)};var f=d(r),n=d(f),c=d(n);x(c,"src",b+"/icons/Memory/200w/Front200.webp"),u(n);var h=_(n,2),P=d(h);u(h),u(f);var y=_(f,2);u(r),u(l),D(()=>{r.disabled=i.finished,z(f,`${`transform-style-3d absolute h-full w-full transition-transform duration-500 ${i.isRotated?"rotate-y-180":""}`??""} svelte-zysx8r`),z(h,`backface-hidden rotate-y-180 absolute h-full w-full transform rounded-l border-4 ${(i.finished?"border-gray-600":"border-green-700")??""} svelte-zysx8r`),x(P,"src",i.finished?b+"/icons/Memory/200w/Back-Gray200.webp":b+"/icons/Memory/200w/Back200.webp"),x(y,"src",b+i.audioSource)}),O(y,a),R(w,l)}N(["mouseup"]);const $=[{genre:"Jazz",audioPaths:["Drums - Jazz Break 125 bpm.mp3"]},{genre:"Funk",audioPaths:["Bs1 Funk Cmaj 124bpm.mp3"]},{genre:"Punk",audioPaths:["Gt1 Punk Emaj 170bpm.mp3"]},{genre:"Blues",audioPaths:["Piano Phrase Blues Sky Eb Minor 92bpm.mp3"]}];var ee=B('<div class="absolute left-0 top-0"><!></div>'),te=B('<div class="flex h-screen w-screen flex-col items-center justify-center justify-items-center"><div class="relative grid h-fit w-fit grid-cols-4 gap-5 rounded-xl bg-gray-300 p-20"><!> <div class="absolute left-0 top-0 m-3"><!></div></div> <!></div>');function me(w,i){T(i,!0);let a=v(p([])),l=v(-1),r=v(0),f=v(""),n=v(0),c=v(!1),h=1;function P(){X(b+"/")}L(()=>{for(const t of U($,4))e(a).push({index:-1,genre:t.genre,paused:!0,isRotated:!1,audioPath:t.audioPaths[G(t.audioPaths)],finished:!1}),e(a).push({index:-1,genre:t.genre,paused:!0,isRotated:!1,audioPath:t.audioPaths[G(t.audioPaths)],finished:!1});o(a,p(V(e(a))));for(const[t,s]of e(a).entries())s.index=t;o(n,p(e(a).length))});function y(t){if(!e(a)[t].finished&&e(l)!=t){if(e(r)==2){o(r,0);for(const s of e(a))s.finished||(s.isRotated=!1)}for(const s of e(a))s.paused=!0;if(e(a)[t].isRotated=!e(a)[t].isRotated,e(a)[t].paused=!e(a)[t].paused,e(r)==0?(o(r,1),o(f,p(e(a)[t].genre)),o(l,p(t))):e(r)==1&&(o(r,2),e(f)===e(a)[t].genre&&(e(a)[t].finished=!0,e(a)[e(l)].finished=!0,o(n,e(n)-2))),e(n)==0){for(const s of e(a))s.paused=!0;o(c,!0)}}}var g=te(),m=d(g),j=d(m);q(j,17,()=>e(a),H,(t,s)=>{var k=J(()=>"/audios/"+e(s).audioPath);Z(t,{get isRotated(){return e(s).isRotated},get paused(){return e(s).paused},onmouseup:()=>y(e(s).index),get audioSource(){return e(k)},get finished(){return e(s).finished}})});var F=_(j,2),M=d(F);Q(M,{}),u(F),u(m);var S=_(m,2);{var I=t=>{var s=ee(),k=d(s);W(k,{onclick:P,GIFButtonTextSuccess:"Gewonnen",GIFButtonTextFailure:" ",gifSoundPaused:!1,get volume(){return h},get success(){return e(c)},set success(C){o(c,p(C))}}),u(s),R(t,s)};A(S,t=>{e(c)&&t(I)})}u(g),R(w,g),E()}export{me as component};
