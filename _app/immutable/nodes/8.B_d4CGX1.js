import"../chunks/disclose-version.Bg9kRutz.js";import{b as re,h as Z,I as q,c as ae,e as J,ag as se,aj as ie,ah as ne,H as le,D as H,d as oe,K as de,g as v,r as g,y as G,p as P,aA as U,aB as ue,a as Y,t as Q,o as t,aC as W,w as o,aD as X,s as w,v as R,x,f as te,aE as $}from"../chunks/runtime.Buz-Ab-H.js";import{b as ee,e as ce,a as I,t as L,n as fe,c as _e}from"../chunks/template.ByiHjxH9.js";import{p as m,u as ve,a as C,i as K}from"../chunks/props.CZg9-NLD.js";import{o as ge}from"../chunks/index-client.CIYmnLPM.js";import{s as O,c as be,b as me,a as pe}from"../chunks/instruments.CVYOVaCU.js";import{M as he,S as ye}from"../chunks/MidiBoardGrid.q5LdXMBb.js";import{a as D}from"../chunks/store._s3TlCSQ.js";import{a as xe,s as we}from"../chunks/attributes.D7pF87Us.js";import{d as ke}from"../chunks/utils.eJbWBJJ3.js";import"../chunks/legacy.CtaTdtmd.js";import{i as je}from"../chunks/lifecycle._hbPq4J6.js";import{G as Ce,g as Ie,s as Be}from"../chunks/GIF.S0rd01mV.js";import{g as Me}from"../chunks/entry.BQ38ZPB7.js";import{b as ze}from"../chunks/paths.D-zkjI5B.js";function Ge(p,e,s,n,b){var r=p,i="",u;re(()=>{if(i===(i=e()??"")){Z&&q();return}u!==void 0&&(oe(u),u=void 0),i!==""&&(u=ae(()=>{if(Z){J.data;for(var a=q(),l=a;a!==null&&(a.nodeType!==8||a.data!=="");)l=a,a=se(a);if(a===null)throw ie(),ne;ee(J,l),r=le(a);return}var c=i+"";c=`<svg>${c}</svg>`;var d=ce(c);for(d=H(d),ee(H(d),d.lastChild);H(d);)r.before(H(d))}))})}function Le(p,e,s,n,b){var r=()=>{n(s[p])};s.addEventListener(e,r),r(),(s===document.body||s===window||s===document)&&de(()=>{s.removeEventListener(e,r)})}const Ne=[{difficulty:"einfach",instruments:4,sameCategory:!1},{difficulty:"mittel",instruments:6,sameCategory:!1},{difficulty:"schwer",instruments:8,sameCategory:!1},{difficulty:"sehr schwer",instruments:3,sameCategory:!0}];var Ae=L(`<div><div><div class="flex flex-row justify-center items-center w-5/6 h-5/6 rounded-full bg-gray-800


            "><div class="flex flex-row justify-center items-center w-5/6 h-5/6 rounded-full bg-gray-800
                            border-t-gray-300 border-t-2
                            border-b-gray-300 border-b-2
                            border-l-gray-800 border-l-2
                            border-r-gray-800 border-r-2"><div class="flex flex-row justify-center items-center w-5/6 h-5/6 rounded-full bg-gray-800
                            border-t-gray-300 border-t-2
                            border-b-gray-300 border-b-2
                            border-l-gray-800 border-l-2
                            border-r-gray-800 border-r-2"><div class="flex flex-row justify-center items-center w-5/6 h-5/6 rounded-full bg-gray-800
                            border-t-gray-300 border-t-2
                            border-b-gray-300 border-b-2
                            border-l-gray-800 border-l-2
                            border-r-gray-800 border-r-2"><div class="flex flex-row justify-center items-center w-4/6 h-4/6 rounded-full bg-red-800"><div class="flex flex-row justify-center items-center w-1/6 h-1/6 rounded-full bg-white"></div></div></div></div></div></div></div></div>`);function Ee(p,e){let s=m(e,"spinning",3,!1),n=m(e,"height",3,"h-min-1/10 h-full");var b=Ae(),r=v(b);g(b),G(()=>{O(b,`flex flex-row justify-center items-center ${n()??""}`),O(r,`flex flex-row justify-center items-center w-full h-full rounded-full bg-gray-600 ${(s()?"animate-spin-slow":"")??""}`)}),I(p,b)}var Re=fe("<svg><!></svg>");function Se(p,e){P(e,!1);let s=m(e,"src",8),n=m(e,"size",8,"1em"),b=m(e,"viewBox",24,()=>{}),r=m(e,"color",8,"currentColor"),i=m(e,"title",24,()=>{}),u=m(e,"className",8,""),a=W(),l=W({});U(()=>(Q(r()),Q(s())),()=>{o(l,{}),r()&&(s().a.stroke!=="none"&&X(l,t(l).stroke="currentColor"),s().a.fill!=="none"&&X(l,t(l).fill="currentColor"))}),U(()=>(Q(i()),Q(s())),()=>{o(a,(i()?`<title>${i()}</title>`:"")+s().c)}),ue(),je();var c=Re();let d;var k=v(c);Ge(k,()=>t(a)),g(c),G(()=>d=xe(c,d,{width:n(),height:n(),viewBox:b(),style:r()?"color: "+r()+";":"","stroke-width":"0",class:u(),...s().a,...t(l),xmlns:"http://www.w3.org/2000/svg"},void 0,!0)),I(p,c),Y()}const De={a:{viewBox:"0 0 384 512"},c:'<path d="M73 39c-14.8-9.1-33.4-9.4-48.5-.9S0 62.6 0 80V432c0 17.4 9.4 33.4 24.5 41.9s33.7 8.1 48.5-.9L361 297c14.3-8.7 23-24.2 23-41s-8.7-32.2-23-41L73 39z"></path>'};var Fe=L('<div class="grid grid-cols-2 bg-blue-200 border-gray-500 border-2 text-xs lg:text-2xl"><span class="border-2 p-1  border-gray-500">Geh√∂rt</span> <span class="border-2 p-1 items-center border-gray-500"> </span> <span class="border-2 p-1  border-gray-500">Versuche</span> <span class="border-2 p-1 items-center  border-gray-500"> </span> <span class="border-2 p-1  border-gray-500">Zeit</span> <span class="border-2 p-1 items-center border-gray-500"> </span></div>');function He(p,e){let s=m(e,"time",11,0),n=m(e,"tries",11,0),b=m(e,"repeats",11,0);var r=Fe(),i=w(v(r),2),u=v(i,!0);g(i);var a=w(i,4),l=v(a,!0);g(a);var c=w(a,4),d=v(c,!0);g(c),g(r),G(()=>{D(u,b()),D(l,n()),D(d,s())}),I(p,r)}var Qe=(p,e)=>e(),Te=L(`<div class="flex flex-col justify-evenly items-center h-full w-full"><div class="h-52  w-52 max-lg:hidden"><!></div> <div class="flex flex-row justify-evenly items-stretch"><span class="h-fit w-full bg-green-500 text-white text-xl font-bold border-4 border-gray-500 p-1 ml-1"> </span> <span class="h-fit w-full bg-green-500 text-white text-xl font-bold border-4 border-gray-500 p-1"> </span></div> <div><!></div> <button class="
            flex
            flex-col
            justify-center
            w-5/6
            h-1/6
            bg-blue-400
            rounded-lg
            cursor-pointer
            select-none
            active:translate-y-2  active:[box-shadow:0_0px_0_0_#1b6ff8,0_0px_0_0_#1b70f841]
            active:border-b-[0px]
            transition-all duration-150 [box-shadow:0_8px_0_0_#477aba,0_13px_0_0_#1b70f841]
            border-[1px]
            p-3
        "><!></button> <audio></audio></div>`);function Ve(p,e){let s=m(e,"sound_level_float",15,.5),n=m(e,"track_paused",15,!0),b=m(e,"time",7,0),r=m(e,"tries",7,0),i=m(e,"repeats",7,0),u=x(0),a=x(0);function l(){o(a,0),n(!1),ve(i)}function c(_){if(isNaN(_))return"...";const V=Math.floor(_/60),j=Math.floor(_%60);return`${V}:${j<10?`0${j}`:j}`}var d=Te(),k=v(d),N=v(k),S=R(()=>!n());Ee(N,{get spinning(){return t(S)}}),g(k);var f=w(k,2),h=v(f),B=v(h,!0);G(()=>D(B,c(t(a)))),g(h);var A=w(h,2),M=v(A,!0);G(()=>D(M,c(t(u)))),g(A),g(f);var z=w(f,2),F=v(z);He(F,{get time(){return b()},set time(_){b(_)},get repeats(){return i()},set repeats(_){i(_)},get tries(){return r()},set tries(_){r(_)}}),g(z);var E=w(z,2);E.__click=[Qe,l];var T=v(E);Se(T,{size:"100%",color:"white",src:De}),g(E);var y=w(E,2);g(d),G(()=>we(y,"src",e.track_source)),be(y,()=>t(a),_=>o(a,_)),Le("duration","durationchange",y,_=>o(u,_)),me(y,n),pe(y,s),I(p,d)}ke(["click"]);var Ke=L('<div class="absolute left-0 top-0"><!></div>'),Oe=L('<div><div class="basis-2/12"><!></div> <div class="basis-8/12"><!></div> <div class="basis-1/12"><!></div></div> <!>',1);function Pe(p,e){P(e,!0);let s=m(e,"board_bg_color",3,"bg-[#252525]"),n=x(.4);function b(y,_){o(d,!1),o(i,!0),o(l,_==e.correct_instrument_id),o(a,!0),o(u,!1)}function r(){t(l)?Me("/"):($(k),o(d,!0),o(a,!1))}let i=x(!1),u=x(!1),a=x(!1),l=x(!1),c=x(0),d=x(!0),k=x(0),N=0;function S(){setInterval(()=>{t(d)&&$(c)},1e3)}S();var f=Oe(),h=te(f),B=v(h),A=v(B);Ve(A,{get time(){return t(c)},get track_source(){return e.track_source},get sound_level_float(){return t(n)},set sound_level_float(y){o(n,C(y))},get track_paused(){return t(i)},set track_paused(y){o(i,C(y))},get tries(){return t(k)},get repeats(){return N}}),g(B);var M=w(B,2),z=v(M);he(z,{get sound_level_float(){return t(n)},set sound_level_float(y){o(n,C(y))},get active_tile_list(){return e.active_tile_list},get pause_tile_list(){return e.pause_tile_list},use_tile_sounds:!1,get instruments(){return e.instruments},onmouseup:b}),g(M);var F=w(M,2),E=v(F);ye(E,{get sound_level_float(){return t(n)},set sound_level_float(y){o(n,C(y))}}),g(F),g(h);var T=w(h,2);K(T,()=>t(a),y=>{var _=Ke(),V=v(_);Ce(V,{get success(){return t(l)},set success(j){o(l,C(j))},onclick:r,get gif_sound_pause(){return t(u)},set gif_sound_pause(j){o(u,C(j))},get volume(){return t(n)},set volume(j){o(n,C(j))}}),g(_),I(y,_)}),G(()=>O(h,`
            flex
            justify-evenly
            rounded-2xl
            ${s()??""}
            [rotate-y-20deg]
            h-full
            w-full
            border-x-[10px]
            border-b-[20px]
            border-t-[10px]
            border-b-gray-600
            border-l-gray-200
            border-r-gray-400
            border-t-gray-400
            p-3
            shadow-2xl lg:p-10`)),I(p,f),Y()}var Ye=L("<h1>Gewonnen</h1>"),Ze=L('<div class="h-screen w-screen bg-blue-200 p-5"><!> <!></div>');function dt(p,e){P(e,!0);let s=x(!1),b=Ne[1],r=x(void 0),i=x(void 0);ge(()=>{o(r,C(Ie(b.instruments))),o(i,C(Be(t(r))))});let u=R(()=>{var f;return(f=t(i))==null?void 0:f.index}),a=R(()=>{var f;return(f=t(r))==null?void 0:f.length});const l=R(()=>Array(t(a)).fill(!1)),c=R(()=>Array(t(a)).fill(!0));let d=R(()=>{var f;return ze+"/audios/"+((f=t(i))==null?void 0:f.audio)});function k(f=!1,h){t(l)[h]=!t(l)[h],h==t(u)&&!f&&o(s,!0)}var N=_e(),S=te(N);K(S,()=>t(r)&&t(u),f=>{var h=Ze(),B=v(h);Pe(B,{get instruments(){return t(r)},get active_tile_list(){return t(l)},get pause_tile_list(){return t(c)},board_bg_color:"bg-gray-300",onmouseup:k,get track_source(){return t(d)},get correct_instrument_id(){return t(u)}});var A=w(B,2);K(A,()=>t(s),M=>{var z=Ye();I(M,z)}),g(h),I(f,h)}),I(p,N),Y()}export{dt as component};
