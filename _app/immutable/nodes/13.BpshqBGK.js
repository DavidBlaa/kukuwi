import"../chunks/disclose-version.Bg9kRutz.js";import{p as q,f as D,c as m,y as e,a3 as r,r as g,s as A,t as O,a as E,a4 as n,au as T,A as k}from"../chunks/runtime.DBSzk1xQ.js";import{a as x,t as Q,c as P}from"../chunks/template.Cv5zbk9r.js";import{i as K}from"../chunks/if.C_dJyYU9.js";import{p as R,a as i}from"../chunks/props.CLTgNlsy.js";import{o as U}from"../chunks/index-client.Dr7F_-OI.js";import{s as V}from"../chunks/class.DooIvUr-.js";import{M as W,S as X}from"../chunks/MidiBoardGrid.Dgdbs7Bi.js";import{M as Y,G as Z,g as $,s as ee}from"../chunks/GIF.B8kDpmAR.js";import{g as te}from"../chunks/entry.DbkYKqAf.js";import{b as re}from"../chunks/paths.6sx1FV_N.js";const se=[{difficulty:"einfach",instruments:4,sameCategory:!1},{difficulty:"mittel",instruments:6,sameCategory:!1},{difficulty:"schwer",instruments:8,sameCategory:!1},{difficulty:"sehr schwer",instruments:3,sameCategory:!0}];var ae=Q('<div class="absolute left-0 top-0"><!></div>'),ne=Q('<div><div class="basis-2/12"><!></div> <div class="basis-8/12"><!></div> <div class="basis-1/12"><!></div></div> <!>',1);function le(B,l){q(l,!0);let w=R(l,"board_bg_color",3,"bg-[#252525]"),o=n(.4);function F(s,y){r(p,!1),r(d,!0),r(u,y==l.correct_instrument_id),r(c,!0),r(f,!1)}function _(){e(u)?te("/"):(T(C),r(p,!0),r(c,!1))}let d=n(!1),f=n(!1),c=n(!1),u=n(!1),I=n(0),p=n(!0),C=n(0),G=0;function L(){setInterval(()=>{e(p)&&T(I)},1e3)}L();var M=ne(),t=D(M),a=m(t),z=m(a);Y(z,{get time(){return e(I)},get track_source(){return l.track_source},get tries(){return e(C)},get repeats(){return G},get sound_level_float(){return e(o)},set sound_level_float(s){r(o,i(s))},get track_paused(){return e(d)},set track_paused(s){r(d,i(s))}}),g(a);var b=A(a,2),S=m(b);W(S,{get active_tile_list(){return l.active_tile_list},get pause_tile_list(){return l.pause_tile_list},use_tile_sounds:!1,get instruments(){return l.instruments},onmouseup:F,get sound_level_float(){return e(o)},set sound_level_float(s){r(o,i(s))}}),g(b);var v=A(b,2),j=m(v);X(j,{get sound_level_float(){return e(o)},set sound_level_float(s){r(o,i(s))}}),g(v),g(t);var H=A(t,2);{var J=s=>{var y=ae(),N=m(y);Z(N,{onclick:_,get success(){return e(u)},set success(h){r(u,i(h))},get gif_sound_pause(){return e(f)},set gif_sound_pause(h){r(f,i(h))},get volume(){return e(o)},set volume(h){r(o,i(h))}}),g(y),x(s,y)};K(H,s=>{e(c)&&s(J)})}O(()=>V(t,`
            flex
            justify-evenly
            rounded-2xl
            ${w()??""}
            [rotate-y-20deg]
            h-full
            w-full
            border-x-[10px]
            border-b-[20px]
            border-t-[10px]
            border-b-gray-600
            border-l-gray-200
            border-r-gray-400
            border-t-gray-400
            p-3
            shadow-2xl lg:p-10`)),x(B,M),E()}var oe=Q("<h1>Gewonnen</h1>"),ie=Q('<div class="h-screen w-screen bg-blue-200 p-5"><!> <!></div>');function he(B,l){q(l,!0);let w=n(!1),F=se[1],_=n(void 0),d=n(void 0);U(()=>{r(_,i($(F.instruments))),r(d,i(ee(e(_))))});let f=k(()=>{var t;return(t=e(d))==null?void 0:t.index}),c=k(()=>{var t;return(t=e(_))==null?void 0:t.length});const u=k(()=>Array(e(c)).fill(!1)),I=k(()=>Array(e(c)).fill(!0));let p=k(()=>{var t;return re+"/audios/"+((t=e(d))==null?void 0:t.audio)});function C(t=!1,a){e(u)[a]=!e(u)[a],a==e(f)&&!t&&r(w,!0)}var G=P(),L=D(G);{var M=t=>{var a=ie(),z=m(a);le(z,{get instruments(){return e(_)},get active_tile_list(){return e(u)},get pause_tile_list(){return e(I)},board_bg_color:"bg-gray-300",onmouseup:C,get track_source(){return e(p)},get correct_instrument_id(){return e(f)}});var b=A(z,2);{var S=v=>{var j=oe();x(v,j)};K(b,v=>{e(w)&&v(S)})}g(a),x(t,a)};K(L,t=>{e(_)&&e(f)&&t(M)})}x(B,G),E()}export{he as component};
