import"../chunks/disclose-version.Bg9kRutz.js";import{p as K,f as T,c as v,A as e,D as t,r as g,s as M,t as N,a as q,F as a,as as D,C as k}from"../chunks/runtime.ByPQCJTE.js";import{a as x,t as z,c as O}from"../chunks/template.CElCRC7T.js";import{i as S}from"../chunks/if.jLSaHWu0.js";import{p as P,a as i}from"../chunks/props.6q4YRsUj.js";import{o as R}from"../chunks/index-client.BxnW_rBF.js";import{s as U}from"../chunks/class.CSIqV9wI.js";import{M as V,S as W}from"../chunks/MidiBoardGrid.DAuAq6lK.js";import{M as X,G as Y,g as Z,s as $}from"../chunks/GIF.D9mDg-pF.js";import{g as ee}from"../chunks/entry.B_j5ic1s.js";import{b as te}from"../chunks/paths.BAYpO7io.js";const re=[{difficulty:"einfach",instruments:4,sameCategory:!1},{difficulty:"mittel",instruments:6,sameCategory:!1},{difficulty:"schwer",instruments:8,sameCategory:!1},{difficulty:"sehr schwer",instruments:3,sameCategory:!0}];var se=z('<div class="absolute left-0 top-0"><!></div>'),ae=z('<div><div class="basis-2/12"><!></div> <div class="basis-8/12"><!></div> <div class="basis-1/12"><!></div></div> <!>',1);function ne(A,l){K(l,!0);let w=P(l,"board_bg_color",3,"bg-[#252525]"),o=a(.4);function F(n,y){t(p,!1),t(d,!0),t(u,y==l.correct_instrument_id),t(f,!0),t(c,!1)}function _(){e(u)?ee("/"):(D(I),t(p,!0),t(f,!1))}let d=a(!1),c=a(!1),f=a(!1),u=a(!1),C=a(0),p=a(!0),I=a(0),G=0;function Q(){setInterval(()=>{e(p)&&D(C)},1e3)}Q();var r=ae(),s=T(r),m=v(s),B=v(m);X(B,{get time(){return e(C)},get track_source(){return l.track_source},get sound_level_float(){return e(o)},set sound_level_float(n){t(o,i(n))},get track_paused(){return e(d)},set track_paused(n){t(d,i(n))},get tries(){return e(I)},get repeats(){return G}}),g(m);var b=M(m,2),L=v(b);V(L,{get sound_level_float(){return e(o)},set sound_level_float(n){t(o,i(n))},get active_tile_list(){return l.active_tile_list},get pause_tile_list(){return l.pause_tile_list},use_tile_sounds:!1,get instruments(){return l.instruments},onmouseup:F}),g(b);var j=M(b,2),E=v(j);W(E,{get sound_level_float(){return e(o)},set sound_level_float(n){t(o,i(n))}}),g(j),g(s);var H=M(s,2);S(H,()=>e(f),n=>{var y=se(),J=v(y);Y(J,{get success(){return e(u)},set success(h){t(u,i(h))},onclick:_,get gif_sound_pause(){return e(c)},set gif_sound_pause(h){t(c,i(h))},get volume(){return e(o)},set volume(h){t(o,i(h))}}),g(y),x(n,y)}),N(()=>U(s,`
            flex
            justify-evenly
            rounded-2xl
            ${w()??""}
            [rotate-y-20deg]
            h-full
            w-full
            border-x-[10px]
            border-b-[20px]
            border-t-[10px]
            border-b-gray-600
            border-l-gray-200
            border-r-gray-400
            border-t-gray-400
            p-3
            shadow-2xl lg:p-10`)),x(A,r),q()}var le=z("<h1>Gewonnen</h1>"),oe=z('<div class="h-screen w-screen bg-blue-200 p-5"><!> <!></div>');function ye(A,l){K(l,!0);let w=a(!1),F=re[1],_=a(void 0),d=a(void 0);R(()=>{t(_,i(Z(F.instruments))),t(d,i($(e(_))))});let c=k(()=>{var r;return(r=e(d))==null?void 0:r.index}),f=k(()=>{var r;return(r=e(_))==null?void 0:r.length});const u=k(()=>Array(e(f)).fill(!1)),C=k(()=>Array(e(f)).fill(!0));let p=k(()=>{var r;return te+"/audios/"+((r=e(d))==null?void 0:r.audio)});function I(r=!1,s){e(u)[s]=!e(u)[s],s==e(c)&&!r&&t(w,!0)}var G=O(),Q=T(G);S(Q,()=>e(_)&&e(c),r=>{var s=oe(),m=v(s);ne(m,{get instruments(){return e(_)},get active_tile_list(){return e(u)},get pause_tile_list(){return e(C)},board_bg_color:"bg-gray-300",onmouseup:I,get track_source(){return e(p)},get correct_instrument_id(){return e(c)}});var B=M(m,2);S(B,()=>e(w),b=>{var L=le();x(b,L)}),g(s),x(r,s)}),x(A,G),q()}export{ye as component};
