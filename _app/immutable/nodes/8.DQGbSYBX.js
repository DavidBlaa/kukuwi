import"../chunks/disclose-version.Bg9kRutz.js";import{b as re,h as Y,L as Z,c as ae,e as J,an as se,ar as ie,aq as ne,K as le,H as Q,d as oe,y as de,t as v,v as g,x as G,p as O,aA as U,aB as ue,a as P,m as T,k as t,aC as W,s as o,aD as X,w,o as R,q as x,f as te,aE as $}from"../chunks/runtime.BoY70jnu.js";import{b as ee,e as ce,a as I,t as L,n as fe,c as _e}from"../chunks/template.BqF7vZlw.js";import{p as m,u as ve,a as C,i as D}from"../chunks/props.DxYjNcqg.js";import{o as ge}from"../chunks/index-client.DpJ-Bn9q.js";import{s as K,d as be,e as me,b as pe,c as ye,a as he}from"../chunks/instruments.DzB2YNIC.js";import{M as xe,S as we}from"../chunks/MidiBoardGrid.DG9K7ZDR.js";import{a as F}from"../chunks/store.CPNWNroT.js";import{d as ke}from"../chunks/events.DS6B4PPE.js";import"../chunks/legacy.CtaTdtmd.js";import{i as je}from"../chunks/lifecycle.DnoxU_Fn.js";import{G as Ce,g as Ie,s as Be}from"../chunks/GIF.CDeLwAnm.js";import{g as Me}from"../chunks/entry.1Vot0hHv.js";import{b as ze}from"../chunks/paths.CiA51Mmq.js";function Ge(p,e,s,n,b){var r=p,i="",u;re(()=>{if(i===(i=e()??"")){Y&&Z();return}u!==void 0&&(oe(u),u=void 0),i!==""&&(u=ae(()=>{if(Y){J.data;for(var a=Z(),l=a;a!==null&&(a.nodeType!==8||a.data!=="");)l=a,a=se(a);if(a===null)throw ie(),ne;ee(J,l),r=le(a);return}var c=i+"";c=`<svg>${c}</svg>`;var d=ce(c);for(d=Q(d),ee(Q(d),d.lastChild);Q(d);)r.before(Q(d))}))})}function Le(p,e,s,n,b){var r=()=>{n(s[p])};s.addEventListener(e,r),r(),(s===document.body||s===window||s===document)&&de(()=>{s.removeEventListener(e,r)})}const Ne=[{difficulty:"einfach",instruments:4,sameCategory:!1},{difficulty:"mittel",instruments:6,sameCategory:!1},{difficulty:"schwer",instruments:8,sameCategory:!1},{difficulty:"sehr schwer",instruments:3,sameCategory:!0}];var Ae=L(`<div><div><div class="flex flex-row justify-center items-center w-5/6 h-5/6 rounded-full bg-gray-800


            "><div class="flex flex-row justify-center items-center w-5/6 h-5/6 rounded-full bg-gray-800
                            border-t-gray-300 border-t-2
                            border-b-gray-300 border-b-2
                            border-l-gray-800 border-l-2
                            border-r-gray-800 border-r-2"><div class="flex flex-row justify-center items-center w-5/6 h-5/6 rounded-full bg-gray-800
                            border-t-gray-300 border-t-2
                            border-b-gray-300 border-b-2
                            border-l-gray-800 border-l-2
                            border-r-gray-800 border-r-2"><div class="flex flex-row justify-center items-center w-5/6 h-5/6 rounded-full bg-gray-800
                            border-t-gray-300 border-t-2
                            border-b-gray-300 border-b-2
                            border-l-gray-800 border-l-2
                            border-r-gray-800 border-r-2"><div class="flex flex-row justify-center items-center w-4/6 h-4/6 rounded-full bg-red-800"><div class="flex flex-row justify-center items-center w-1/6 h-1/6 rounded-full bg-white"></div></div></div></div></div></div></div></div>`);function Ee(p,e){let s=m(e,"spinning",3,!1),n=m(e,"height",3,"h-min-1/10 h-full");var b=Ae(),r=v(b);g(b),G(()=>{K(b,`flex flex-row justify-center items-center ${n()??""}`),K(r,`flex flex-row justify-center items-center w-full h-full rounded-full bg-gray-600 ${(s()?"animate-spin-slow":"")??""}`)}),I(p,b)}var Re=fe("<svg><!></svg>");function Se(p,e){O(e,!1);let s=m(e,"src",8),n=m(e,"size",8,"1em"),b=m(e,"viewBox",24,()=>{}),r=m(e,"color",8,"currentColor"),i=m(e,"title",24,()=>{}),u=m(e,"className",8,""),a=W(),l=W({});U(()=>(T(r()),T(s())),()=>{o(l,{}),r()&&(s().a.stroke!=="none"&&X(l,t(l).stroke="currentColor"),s().a.fill!=="none"&&X(l,t(l).fill="currentColor"))}),U(()=>(T(i()),T(s())),()=>{o(a,(i()?`<title>${i()}</title>`:"")+s().c)}),ue(),je();var c=Re();let d;var k=v(c);Ge(k,()=>t(a)),g(c),G(()=>d=be(c,d,{width:n(),height:n(),viewBox:b(),style:r()?"color: "+r()+";":"","stroke-width":"0",class:u(),...s().a,...t(l),xmlns:"http://www.w3.org/2000/svg"},void 0,!0)),I(p,c),P()}const Fe={a:{viewBox:"0 0 384 512"},c:'<path d="M73 39c-14.8-9.1-33.4-9.4-48.5-.9S0 62.6 0 80V432c0 17.4 9.4 33.4 24.5 41.9s33.7 8.1 48.5-.9L361 297c14.3-8.7 23-24.2 23-41s-8.7-32.2-23-41L73 39z"></path>'};var He=L('<div class="grid grid-cols-2 bg-blue-200 border-gray-500 border-2 text-xs lg:text-2xl"><span class="border-2 p-1  border-gray-500">Geh√∂rt</span> <span class="border-2 p-1 items-center border-gray-500"> </span> <span class="border-2 p-1  border-gray-500">Versuche</span> <span class="border-2 p-1 items-center  border-gray-500"> </span> <span class="border-2 p-1  border-gray-500">Zeit</span> <span class="border-2 p-1 items-center border-gray-500"> </span></div>');function Qe(p,e){let s=m(e,"time",11,0),n=m(e,"tries",11,0),b=m(e,"repeats",11,0);var r=He(),i=w(v(r),2),u=v(i,!0);g(i);var a=w(i,4),l=v(a,!0);g(a);var c=w(a,4),d=v(c,!0);g(c),g(r),G(()=>{F(u,b()),F(l,n()),F(d,s())}),I(p,r)}var Te=(p,e)=>e(),Ve=L(`<div class="flex flex-col justify-evenly items-center h-full w-full"><div class="h-52  w-52 max-lg:hidden"><!></div> <div class="flex flex-row justify-evenly items-stretch"><span class="h-fit w-full bg-green-500 text-white text-xl font-bold border-4 border-gray-500 p-1 ml-1"> </span> <span class="h-fit w-full bg-green-500 text-white text-xl font-bold border-4 border-gray-500 p-1"> </span></div> <div><!></div> <button class="
            flex
            flex-col
            justify-center
            w-5/6
            h-1/6
            bg-blue-400
            rounded-lg
            cursor-pointer
            select-none
            active:translate-y-2  active:[box-shadow:0_0px_0_0_#1b6ff8,0_0px_0_0_#1b70f841]
            active:border-b-[0px]
            transition-all duration-150 [box-shadow:0_8px_0_0_#477aba,0_13px_0_0_#1b70f841]
            border-[1px]
            p-3
        "><!></button> <audio></audio></div>`);function qe(p,e){let s=m(e,"sound_level_float",15,.5),n=m(e,"track_paused",15,!0),b=m(e,"time",7,0),r=m(e,"tries",7,0),i=m(e,"repeats",7,0),u=x(0),a=x(0);function l(){o(a,0),n(!1),ve(i)}function c(_){if(isNaN(_))return"...";const q=Math.floor(_/60),j=Math.floor(_%60);return`${q}:${j<10?`0${j}`:j}`}var d=Ve(),k=v(d),N=v(k),S=R(()=>!n());Ee(N,{get spinning(){return t(S)}}),g(k);var f=w(k,2),y=v(f),B=v(y,!0);G(()=>F(B,c(t(a)))),g(y);var A=w(y,2),M=v(A,!0);G(()=>F(M,c(t(u)))),g(A),g(f);var z=w(f,2),H=v(z);Qe(H,{get time(){return b()},set time(_){b(_)},get repeats(){return i()},set repeats(_){i(_)},get tries(){return r()},set tries(_){r(_)}}),g(z);var E=w(z,2);E.__click=[Te,l];var V=v(E);Se(V,{size:"100%",color:"white",src:Fe}),g(E);var h=w(E,2);g(d),G(()=>he(h,"src",e.track_source)),me(h,()=>t(a),_=>o(a,_)),Le("duration","durationchange",h,_=>o(u,_)),pe(h,n),ye(h,s),I(p,d)}ke(["click"]);var De=L('<div class="absolute left-0 top-0"><!></div>'),Ke=L('<div><div class="basis-2/12"><!></div> <div class="basis-8/12"><!></div> <div class="basis-1/12"><!></div></div> <!>',1);function Oe(p,e){O(e,!0);let s=m(e,"board_bg_color",3,"bg-[#252525]"),n=x(.4);function b(h,_){o(d,!1),o(i,!0),o(l,_==e.correct_instrument_id),o(a,!0),o(u,!1)}function r(){t(l)?Me("/"):($(k),o(d,!0),o(a,!1))}let i=x(!1),u=x(!1),a=x(!1),l=x(!1),c=x(0),d=x(!0),k=x(0),N=0;function S(){setInterval(()=>{t(d)&&$(c)},1e3)}S();var f=Ke(),y=te(f),B=v(y),A=v(B);qe(A,{get time(){return t(c)},get track_source(){return e.track_source},get sound_level_float(){return t(n)},set sound_level_float(h){o(n,C(h))},get track_paused(){return t(i)},set track_paused(h){o(i,C(h))},get tries(){return t(k)},get repeats(){return N}}),g(B);var M=w(B,2),z=v(M);xe(z,{get sound_level_float(){return t(n)},set sound_level_float(h){o(n,C(h))},get active_tile_list(){return e.active_tile_list},get pause_tile_list(){return e.pause_tile_list},use_tile_sounds:!1,get instruments(){return e.instruments},onmouseup:b}),g(M);var H=w(M,2),E=v(H);we(E,{get sound_level_float(){return t(n)},set sound_level_float(h){o(n,C(h))}}),g(H),g(y);var V=w(y,2);D(V,()=>t(a),h=>{var _=De(),q=v(_);Ce(q,{get success(){return t(l)},set success(j){o(l,C(j))},onclick:r,get gif_sound_pause(){return t(u)},set gif_sound_pause(j){o(u,C(j))},get volume(){return t(n)},set volume(j){o(n,C(j))}}),g(_),I(h,_)}),G(()=>K(y,`
            flex
            justify-evenly
            rounded-2xl
            ${s()??""}
            [rotate-y-20deg]
            h-full
            w-full
            border-x-[10px]
            border-b-[20px]
            border-t-[10px]
            border-b-gray-600
            border-l-gray-200
            border-r-gray-400
            border-t-gray-400
            p-3
            shadow-2xl lg:p-10`)),I(p,f),P()}var Pe=L("<h1>Gewonnen</h1>"),Ye=L('<div class="h-screen w-screen bg-blue-200 p-5"><!> <!></div>');function ot(p,e){O(e,!0);let s=x(!1),b=Ne[1],r=x(void 0),i=x(void 0);ge(()=>{o(r,C(Ie(b.instruments))),o(i,C(Be(t(r))))});let u=R(()=>{var f;return(f=t(i))==null?void 0:f.index}),a=R(()=>{var f;return(f=t(r))==null?void 0:f.length});const l=R(()=>Array(t(a)).fill(!1)),c=R(()=>Array(t(a)).fill(!0));let d=R(()=>{var f;return ze+"/audios/"+((f=t(i))==null?void 0:f.audio)});function k(f=!1,y){t(l)[y]=!t(l)[y],y==t(u)&&!f&&o(s,!0)}var N=_e(),S=te(N);D(S,()=>t(r)&&t(u),f=>{var y=Ye(),B=v(y);Oe(B,{get instruments(){return t(r)},get active_tile_list(){return t(l)},get pause_tile_list(){return t(c)},board_bg_color:"bg-gray-300",onmouseup:k,get track_source(){return t(d)},get correct_instrument_id(){return t(u)}});var A=w(B,2);D(A,()=>t(s),M=>{var z=Pe();I(M,z)}),g(y),I(f,y)}),I(p,N),P()}export{ot as component};
