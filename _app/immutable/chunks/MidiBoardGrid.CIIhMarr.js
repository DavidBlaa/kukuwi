import{a as I,t as M}from"./disclose-version.DDCgqJuG.js";import{ab as ne,b as ie,h as E,X as V,T as se,I as ue,ac as K,V as oe,W as F,Y,e as C,ad as N,Q as P,c as Z,R as _e,F as G,ae as fe,af as de,ag as ve,ah as ce,d as be,ai as xe,aj as me,D as he,aa as ge,L as Q,ak as pe,al as ye,am as we,an as Ee,p as O,t as D,v as A,y as R,w as H,a as X,l as T,o as U}from"./runtime.CAWppyhh.js";import{d as $,e as ke}from"./events.CBCMWz0R.js";import{b as Te,a as Ie,s as S,c as q}from"./data.95jJZxmN.js";import{p as m,i as W,a as Ae}from"./props.DqhLB1P2.js";import{b as z}from"./paths.CVcASbl5.js";import{a as Me}from"./store.C4Z3c_9-.js";function ee(u,e){return e}function Ce(u,e,a,o){for(var r=[],f=e.length,l=0;l<f;l++)de(e[l].e,r,!0);var d=f>0&&r.length===0&&a!==null;if(d){var c=a.parentNode;ve(c),c.append(a),o.clear(),y(u,e[0].prev,e[f-1].next)}ce(r,()=>{for(var b=0;b<f;b++){var t=e[b];d||(o.delete(t.k),y(u,t.prev,t.next)),be(t.e,!d)}})}function ae(u,e,a,o,r,f=null){var l=u,d={flags:e,items:new Map,first:null};{var c=u;l=E?V(xe(c)):c.appendChild(ne())}E&&se();var b=null,t=!1;ie(()=>{var v=a(),n=ue(v)?v:v==null?[]:K(v),i=n.length;if(t&&i===0)return;t=i===0;let x=!1;if(E){var h=l.data===oe;h!==(i===0)&&(l=F(),V(l),Y(!1),x=!0)}if(E){for(var g=null,s,_=0;_<i;_++){if(C.nodeType===8&&C.data===me){l=C,x=!0,Y(!1);break}var k=n[_],w=o(k,_);s=te(C,d,g,null,k,w,_,r,e),d.items.set(w,s),g=s}i>0&&V(F())}if(!E){var p=he;Re(n,d,l,r,e,(p.f&N)!==0,o)}f!==null&&(i===0?b?P(b):b=Z(()=>f(l)):b!==null&&_e(b,()=>{b=null})),x&&Y(!0),a()}),E&&(l=C)}function Re(u,e,a,o,r,f,l){var d=u.length,c=e.items,b=e.first,t=b,v,n=null,i=[],x=[],h,g,s,_;for(_=0;_<d;_+=1){if(h=u[_],g=l(h,_),s=c.get(g),s===void 0){var k=t?t.e.nodes_start:a;n=te(k,e,n,n===null?e.first:n.next,h,g,_,o,r),c.set(g,n),i=[],x=[],t=n.next;continue}if(Ne(s,h,_),s.e.f&N&&P(s.e),s!==t){if(v!==void 0&&v.has(s)){if(i.length<x.length){var w=x[0],p;n=w.prev;var j=i[0],B=i[i.length-1];for(p=0;p<i.length;p+=1)J(i[p],w,a);for(p=0;p<x.length;p+=1)v.delete(x[p]);y(e,j.prev,B.next),y(e,n,j),y(e,B,w),t=w,n=B,_-=1,i=[],x=[]}else v.delete(s),J(s,t,a),y(e,s.prev,s.next),y(e,s,n===null?e.first:n.next),y(e,n,s),n=s;continue}for(i=[],x=[];t!==null&&t.k!==g;)(f||!(t.e.f&N))&&(v??(v=new Set)).add(t),x.push(t),t=t.next;if(t===null)continue;s=t}i.push(s),n=s,t=s.next}if(t!==null||v!==void 0){for(var L=v===void 0?[]:K(v);t!==null;)(f||!(t.e.f&N))&&L.push(t),t=t.next;var re=L.length;if(re>0){var le=d===0?a:null;Ce(e,L,le,c)}}G.first=e.first&&e.first.e,G.last=n&&n.e}function Ne(u,e,a,o){fe(u.v,e),u.i=a}function te(u,e,a,o,r,f,l,d,c){var b=(c&ye)!==0,t=(c&we)===0,v=b?t?ge(r):Q(r):r,n=c&pe?Q(l):l,i={i:n,v,k:f,a:null,e:null,prev:a,next:o};try{return i.e=Z(()=>d(u,v,n),E),i.e.prev=a&&a.e,i.e.next=o&&o.e,a===null?e.first=i:(a.next=i,a.e.next=i.e),o!==null&&(o.prev=i,o.e.prev=i.e),i}finally{}}function J(u,e,a){for(var o=u.next?u.next.e.nodes_start:a,r=e?e.e.nodes_start:a,f=u.e.nodes_start;f!==o;){var l=Ee(f);r.before(f),f=l}}function y(u,e,a){e===null?u.first=a:(e.next=a,e.e.next=a&&a.e),a!==null&&(a.prev=e,a.e.prev=e&&e.e)}var De=M("<p> </p>"),He=M("<audio></audio>"),Se=M('<div class="flex flex-col h-full"><!> <button><img class="flex flex-col justify-center items-center  p-2 lg:p-0 rounded-xl"> <!></button></div>');function Be(u,e){O(e,!0);let a=m(e,"is_active",7),o=m(e,"paused",7,!0),r=m(e,"active_color_top",3,"bg-blue-400"),f=m(e,"active_color_bottom",3,"[box-shadow:0_10px_0_0_#4e81bf,0_15px_0_0_#1b70f841]"),l=m(e,"passiv_color_top",3,"bg-blue-100"),d=m(e,"passiv_color_bottom",3,"[box-shadow:0_10px_0_0_#b0b1b5,0_15px_0_0_#1b70f841]"),c=m(e,"use_audio",3,!0),b=m(e,"use_header",3,!0),t=m(e,"volume",7,.5);function v(s=!1){a(!a()),s||o(!o())}var n=Se(),i=D(n);W(i,b,s=>{var _=De(),k=D(_,!0);A(_),R(()=>{S(_,`flex flex-col w-fit justify-center items-start  text-xs px-1  lg:text-xl ${(a()?r():l())??""} font-bold rounded-sm mb-1`),Me(k,e.name)}),I(s,_)});var x=H(i,2);x.__mouseup=function(...s){var _;(_=e.onmouseup)==null||_.apply(this,s)};var h=D(x),g=H(h,2);return W(g,c,s=>{var _=He();R(()=>q(_,"src",e.audio_url)),ke("ended",_,()=>v(!0)),Te(_,o),Ie(_,t),I(s,_)}),A(x),A(n),R(()=>{S(x,`flex flex-col h-full justify-center items-center ${(a()?r():l())??""} rounded-lg cursor-pointer select-none
    active:translate-y-2  active:[box-shadow:0_0px_0_0_#1b6ff8,0_0px_0_0_#1b70f841]
    active:border-b-[0px] order-[1px]
    transition-all duration-150 ${(a()?f():d())??""}
    border-b-[1px] border-white`),q(h,"alt",e.name),q(h,"src",e.img_url)}),I(u,n),X({handle_music_tile_click:v})}$(["mouseup"]);var Le=M("<div></div>"),Ve=(u,e)=>e(!0),Ye=(u,e)=>e(!1),qe=M(`<div class="flex flex-col justify-end items-center w-full h-full"><div class="flex flex-col-reverse justify-center w-4/6 lg:w-1/3 h-full mb-5 rounded-2xl"></div> <button class="w-5/6 lg:w-3/5 aspect-square bg-amber-500 rounded-full cursor-pointer select-none
    active:translate-y-2  active:[box-shadow:0_0px_0_0_#1b6ff8,0_0px_0_0_#1b70f841]
    active:border-b-[0px]
    transition-all duration-150 [box-shadow:0_8px_0_0_#b07209,0_13px_0_0_#1b70f841]
    border-[1px]
    "><span class="flex flex-col justify-center items-center h-full text-white font-bold text-6xl pb-3">+</span></button> <button class="w-5/6 lg:w-3/5 aspect-square bg-amber-500  rounded-full cursor-pointer select-none mt-5
    active:translate-y-2  active:[box-shadow:0_0px_0_0_#1b6ff8,0_0px_0_0_#1b70f841]
    active:border-b-[0px]
    transition-all duration-150 [box-shadow:0_8px_0_0_#b07209,0_13px_0_0_#1b70f841]
    border-[1px]
    "><span class="flex flex-col justify-center items-center h-full text-white font-bold text-6xl pb-3">-</span></button></div>`);function ze(u,e){O(e,!0);let a=m(e,"sound_level_float",15);const o=Ae(Array(10).fill(!1));let r=40;for(let t=0;t<r/10;(t+=1)-1)o[t]=!0;function f(t){if(t){if(r>=100)return;r+=10,o[r/10-1]=!0,a(r/100)}else{if(r<=0)return;o[r/10-1]=!1,r-=10,a(r/100)}}var l=qe(),d=D(l);ae(d,21,()=>o,ee,(t,v)=>{var n=Le();R(()=>S(n,`${(T(v)?"bg-green-500":"bg-green-100")??""} w-full h-full border-2 lg:border-4 border-gray-500`)),I(t,n)}),A(d);var c=H(d,2);c.__click=[Ve,f];var b=H(c,2);b.__click=[Ye,f],A(l),I(u,l),X()}$(["click"]);var Oe=M("<div></div>");function Je(u,e){O(e,!0);let a=m(e,"grid_layout",3,"grid-cols-6 lg:grid-cols-5");function o(f){return f[Math.floor(Math.random()*f.length)]}var r=Oe();ae(r,21,()=>e.instruments,ee,(f,l,d)=>{var c=U(()=>z+"/images/Instrumente_neu/"+T(l).image),b=U(()=>e.use_tile_sounds?z+"/audios/"+o(T(l).audios):"");Be(f,{get img_url(){return T(c)},get is_active(){return e.active_tile_list[d]},get use_audio(){return e.use_tile_sounds},get audio_url(){return T(b)},get name(){return T(l).name},use_header:!0,get paused(){return e.pause_tile_list[d]},onmouseup:()=>e.onmouseup(!1,d),get volume(){return e.sound_level_float}})}),A(r),R(()=>S(r,`
        grid
        ${a()??""}
        items-stretch
        w-full
        h-full
        gap-x-5
        gap-y-5
        ld:gap-x-12
        ld:gap-y-20
        p-3`)),I(u,r),X()}export{Je as M,ze as S};
