import"./disclose-version.Bg9kRutz.js";import{p as U,b as r,g as e,u as B,f as V,a as X,d as s,c as P,s as x,r as C,e as l}from"./runtime.BFcw_75_.js";import{c as Y,a as I,t as z}from"./template.B-ObnXcP.js";import{i as L}from"./if.BqcDyKEL.js";import{b as Z,p as d}from"./props.073RLZyP.js";import{o as $}from"./index-client.Bxs-rmcU.js";import{M as ee,S as te}from"./MidiBoardGrid.DN4IZarj.js";import{M as re}from"./MusicControl.3aIXGhEd.js";import{g as se,s as ne,G as ae}from"./GIF.Cpd0qvBy.js";import{k as M}from"./klangQuizLevels.C_kQ09Xn.js";import{b as oe}from"./paths.DCMWs7kB.js";var ue=z('<div class="absolute left-0 top-0"><!></div>'),ie=z('<div class="flex size-full justify-between gap-4 rounded-2xl border-x-[7px] border-b-[14px] border-t-[7px] border-b-gray-600 border-l-gray-200 border-r-gray-400 border-t-gray-400 bg-[#d1d5db] p-3 shadow-2xl lg:border-x-[10px] lg:border-b-[20px] lg:border-t-[10px] lg:p-10"><!> <!> <!> <!></div>');function _e(w,n){U(n,!0);let o=Z(n,"volume",15),m=s(!0),f=s(!0),g=s(!1),c=s(!1),_=s(0),k=s(!0),A=0,y=s(0),u=s(void 0),v=s(void 0);$(()=>{r(u,d(se(M[n.difficulty-1].instruments,M[n.difficulty-1].sameCategory))),r(v,d(ne(e(u)))),r(m,!1),B(y)});let E=l(()=>{var t;return(t=e(v))==null?void 0:t.index}),G=l(()=>{var t;return(t=e(u))==null?void 0:t.length});const Q=l(()=>Array(e(G)).fill(!1)),R=l(()=>Array(e(G)).fill(!0));let j=l(()=>{var t;return oe+"/audios/"+((t=e(v))==null?void 0:t.audio)});function K(t,i){r(k,!1),r(m,!0),r(c,i===e(E)),r(g,!0),r(f,!1)}function N(){const t=e(c)?1e3:0;n.handleNextRound(t),r(g,!1)}function W(){setInterval(()=>{e(k)&&B(_)},1e3)}W();var S=Y(),q=V(S);{var D=t=>{var i=ie(),T=P(i);re(T,{get time(){return e(_)},get trackSource(){return e(j)},get volume(){return o()},get tries(){return A},get repeats(){return e(y)},get trackPaused(){return e(m)},set trackPaused(a){r(m,d(a))}});var F=x(T,2);ee(F,{get volume(){return o()},get activeTileList(){return e(Q)},get pauseTileList(){return e(R)},useTileSounds:!1,get instruments(){return e(u)},onmouseup:K});var h=x(F,2);te(h,{get volume(){return o()},set volume(a){o(a)}});var H=x(h,2);{var J=a=>{var p=ue(),O=P(p);ae(O,{onclick:N,get GIFButtonTextSuccess(){return n.GIFButtonTextSuccess},get GIFButtonTextFailure(){return n.GIFButtonTextFailure},get volume(){return o()},get success(){return e(c)},set success(b){r(c,d(b))},get gifSoundPaused(){return e(f)},set gifSoundPaused(b){r(f,d(b))}}),C(p),I(a,p)};L(H,a=>{e(g)&&a(J)})}C(i),I(t,i)};L(q,t=>{e(u)&&t(D)})}I(w,S),X()}export{_e as G};
