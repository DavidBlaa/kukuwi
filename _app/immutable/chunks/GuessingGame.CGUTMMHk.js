import{c as Y,a as G,t as z}from"./disclose-version.BKubmXxM.js";import{p as Z,b as r,g as e,u as C,f as $,a as ee,d as s,c as d,r as l,s as S,e as c}from"./runtime.BaLyREtQ.js";import{i as L}from"./if.D3iIYnVb.js";import{b as te,p as f}from"./props.BB9OUOYN.js";import{o as re}from"./index-client.DTcB02u1.js";import{M as se,S as ae}from"./MidiBoardGrid.De8qEMCo.js";import{g as ne,s as ue,M as oe,G as ie}from"./GIF.CtyFzCAo.js";import{k as M}from"./klangQuizLevels.C_kQ09Xn.js";import{b as de}from"./paths.cUv70mES.js";var le=z('<div class="absolute left-0 top-0"><!></div>'),ce=z('<div class="[rotate-y-20deg] flex size-full justify-evenly rounded-2xl border-x-[10px] border-b-[20px] border-t-[10px] border-b-gray-600 border-l-gray-200 border-r-gray-400 border-t-gray-400 bg-[#d1d5db] p-3 shadow-2xl lg:p-10"><div class="basis-2/12"><!></div> <div class="basis-8/12"><!></div> <div class="basis-1/12"><!></div> <!></div>');function ye(A,a){Z(a,!0);let u=te(a,"volume",15),m=s(!0),g=s(!0),b=s(!1),v=s(!1),T=s(0),F=s(!0),E=0,h=s(0),o=s(void 0),p=s(void 0);re(()=>{r(o,f(ne(M[a.difficulty-1].instruments,M[a.difficulty-1].sameCategory))),r(p,f(ue(e(o)))),r(m,!1),C(h)});let Q=c(()=>{var t;return(t=e(p))==null?void 0:t.index}),B=c(()=>{var t;return(t=e(o))==null?void 0:t.length});const R=c(()=>Array(e(B)).fill(!1)),j=c(()=>Array(e(B)).fill(!0));let w=c(()=>{var t;return de+"/audios/"+((t=e(p))==null?void 0:t.audio)});function K(t,i){r(F,!1),r(m,!0),r(v,i===e(Q)),r(b,!0),r(g,!1)}function N(){const t=e(v)?1e3:0;a.handleNextRound(t),r(b,!1)}function W(){setInterval(()=>{e(F)&&C(T)},1e3)}W();var P=Y(),q=$(P);{var D=t=>{var i=ce(),x=d(i),H=d(x);oe(H,{get time(){return e(T)},get trackSource(){return e(w)},get volume(){return u()},get tries(){return E},get repeats(){return e(h)},get trackPaused(){return e(m)},set trackPaused(n){r(m,f(n))}}),l(x);var _=S(x,2),J=d(_);se(J,{get volume(){return u()},get activeTileList(){return e(R)},get pauseTileList(){return e(j)},useTileSounds:!1,get instruments(){return e(o)},onmouseup:K}),l(_);var I=S(_,2),O=d(I);ae(O,{get volume(){return u()},set volume(n){u(n)}}),l(I);var U=S(I,2);{var V=n=>{var y=le(),X=d(y);ie(X,{onclick:N,get GIFButtonTextSuccess(){return a.GIFButtonTextSuccess},get GIFButtonTextFailure(){return a.GIFButtonTextFailure},get volume(){return u()},get success(){return e(v)},set success(k){r(v,f(k))},get gifSoundPaused(){return e(g)},set gifSoundPaused(k){r(g,f(k))}}),l(y),G(n,y)};L(U,n=>{e(b)&&n(V)})}l(i),G(t,i)};L(q,t=>{e(o)&&t(D)})}G(A,P),ee()}export{ye as G};
