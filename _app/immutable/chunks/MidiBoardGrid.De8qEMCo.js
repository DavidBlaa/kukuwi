import{a as n,t as v,n as J}from"./disclose-version.BKubmXxM.js";import{p as T,c as y,t as p,r as b,s as B,a as j,g as d,f as K,e as k}from"./runtime.BaLyREtQ.js";import{e as G,i as I}from"./each.DalAK5mh.js";import{B as F,s as N,a as O}from"./Button3d.WwOf29s3.js";import{b as a,p as Q}from"./props.BB9OUOYN.js";import{s as U,g as W}from"./render.nOmWuMGw.js";import{i as C}from"./if.D3iIYnVb.js";import{s as S}from"./attributes.BN3tEmLz.js";import{b as X}from"./instruments.CL6ozyEj.js";import"./legacy.Czk6bcHn.js";import{b as z}from"./paths.cUv70mES.js";var Y=v("<div></div>"),Z=v('<p class="absolute inset-x-0 bottom-2 text-6xl font-bold text-white">+</p>'),$=v('<p class="absolute inset-x-0 bottom-2 text-6xl font-bold text-white">-</p>'),ee=v('<div class="flex h-full w-full flex-col items-center justify-end"><div class="mb-5 flex h-full w-4/6 flex-col-reverse justify-center rounded-2xl lg:w-1/3"></div> <!> <!></div>');function pe(_,e){T(e,!0);let l=a(e,"volume",15);const o=Q(Array(10).fill(!1));let t=l()*100;for(let i=0;i<t/10;i++)o[i]=!0;function r(i){if(i){if(t>=100)return;t+=10,o[t/10-1]=!0,l(t/100)}else{if(t<=0)return;o[t/10-1]=!1,t-=10,l(t/100)}}var s=ee(),m=y(s);G(m,21,()=>o,I,(i,g)=>{var u=Y();p(()=>N(u,`${(d(g)?"bg-green-500":"bg-green-100")??""} h-full w-full border-2 border-gray-500 lg:border-4`)),n(i,u)}),b(m);var f=B(m,2);F(f,{bgFront:"bg-amber-500",bgBack:"bg-amber-700",onmouseup:()=>{},onclick:()=>r(!0),style:"rounded-full size-16 mb-3",padding:"relative size-16 rounded-full",children:(i,g)=>{var u=Z();n(i,u)},$$slots:{default:!0}});var L=B(f,2);F(L,{bgFront:"bg-amber-500",bgBack:"bg-amber-700",onmouseup:()=>{},onclick:()=>r(!1),style:"rounded-full size-16 mb-3",padding:"relative size-16 rounded-full",children:(i,g)=>{var u=$();n(i,u)},$$slots:{default:!0}}),b(s),n(_,s),j()}var te=J('<svg xmlns="http://www.w3.org/2000/svg" role="img"><image width="100%" height="100%" preserveAspectRatio="xMidyMid meet"></image></svg>');function re(_,e){let l=a(e,"viewBox",8,"0 0 48 48"),o=a(e,"className",8,""),t=a(e,"src",8);var r=te(),s=y(r);b(r),p(()=>{S(r,"viewBox",l()),O(r,`icon p-2 sm:p-3 md:p-4 lg:p-5 ${o()}`),S(s,"href",t())}),n(_,r)}var oe=v("<p> </p>"),ae=v("<audio></audio>"),le=v("<!> <!>",1),ie=v('<div class="flex h-full flex-col"><!> <!></div>');function se(_,e){T(e,!0);let l=a(e,"is_active",7),o=a(e,"paused",7,!0),t=a(e,"active_color_top",3,"bg-blue-400"),r=a(e,"active_color_bottom",3,"[box-shadow:0_10px_0_0_#4e81bf,0_15px_0_0_#1b70f841]"),s=a(e,"passiv_color_top",3,"bg-blue-100"),m=a(e,"passiv_color_bottom",3,"[box-shadow:0_10px_0_0_#b0b1b5,0_15px_0_0_#1b70f841]"),f=a(e,"use_audio",3,!0),L=a(e,"use_header",3,!0),i=a(e,"volume",3,.5);function g(c=!1){l(!l()),c||o(!o())}var u=ie(),P=y(u);{var R=c=>{var x=oe(),w=y(x,!0);b(x),p(()=>{N(x,`flex w-fit flex-col items-start justify-center px-1 text-xs lg:text-xl ${(l()?t():s())??""} mb-1 rounded-sm font-bold`),U(w,e.name)}),n(c,x)};C(P,c=>{L()&&c(R)})}var V=B(P,2),q=k(()=>l()?t():s()),D=k(()=>l()?r():m());return F(V,{get onmouseup(){return e.onmouseup},get bgFront(){return d(q)},get bgBack(){return d(D)},children:(c,x)=>{var w=le(),A=K(w);re(A,{get src(){return e.img_url},className:""});var E=B(A,2);{var H=M=>{var h=ae();p(()=>{S(h,"src",e.audio_url),h.volume=i()}),W("ended",h,()=>g(!0)),X(h,o),n(M,h)};C(E,M=>{f()&&M(H)})}n(c,w)},$$slots:{default:!0}}),b(u),n(_,u),j({handle_music_tile_click:g})}var ue=v("<div></div>");function we(_,e){T(e,!0);let l=a(e,"grid_layout",3,"grid-cols-4");var o=ue();G(o,21,()=>e.instruments,I,(t,r,s)=>{var m=k(()=>z+"/icons/instruments/"+d(r).image),f=k(()=>e.useTileSounds?"audio"in d(r)?`${z}/audios/${d(r).audio}`:`${z}/audios/${d(r).audios[0]}`:"");se(t,{get img_url(){return d(m)},get is_active(){return e.activeTileList[s]},get use_audio(){return e.useTileSounds},get audio_url(){return d(f)},get name(){return d(r).name},use_header:!0,get paused(){return e.pauseTileList[s]},onmouseup:()=>e.onmouseup(!1,s),get volume(){return e.volume}})}),b(o),p(()=>N(o,`
        grid
        ${l()??""}
        h-full
        w-full
        items-stretch
        gap-5
		p-3
		lg:gap-x-12
        lg:gap-y-20`)),n(_,o),j()}export{we as M,pe as S};
