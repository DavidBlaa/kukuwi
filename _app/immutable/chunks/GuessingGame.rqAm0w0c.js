import"./disclose-version.Bg9kRutz.js";import{p as V,b as r,g as e,u as B,f as X,a as Y,d as s,c as M,s as _,r as P,e as l}from"./runtime.BFcw_75_.js";import{c as Z,a as k,t as z}from"./template.B-ObnXcP.js";import{i as C}from"./if.BqcDyKEL.js";import{b as $,p as d}from"./props.073RLZyP.js";import{o as ee}from"./index-client.Bxs-rmcU.js";import{M as te,S as re}from"./MidiBoardGrid.BnpKrzEp.js";import{M as se}from"./MusicControl.3aIXGhEd.js";import{g as ae,s as ne,G as ue}from"./GIF.CBnT-_EP.js";import{k as L}from"./klangQuizLevels.C_kQ09Xn.js";import{b as oe}from"./paths.BYIt9VTK.js";var ie=z('<div class="absolute left-0 top-0"><!></div>'),le=z('<div class="flex size-full justify-between gap-4 rounded-2xl border-x-[7px] border-b-[14px] border-t-[7px] border-b-gray-600 border-l-gray-200 border-r-gray-400 border-t-gray-400 bg-[#d1d5db] p-3 shadow-2xl lg:border-x-[10px] lg:border-b-[20px] lg:border-t-[10px] lg:p-10"><!> <!> <!> <!></div>');function ke(w,a){V(a,!0);let u=$(a,"volume",15),c=s(!0),v=s(!0),p=s(!1),m=s(!1),f=s(0),y=s(!0),A=0,g=s(0),o=s(void 0),b=s(void 0);ee(()=>{r(o,d(ae(L[a.difficulty-1].instruments,L[a.difficulty-1].sameCategory))),r(b,d(ne(e(o)))),r(c,!1),B(g)});let E=l(()=>{var t;return(t=e(b))==null?void 0:t.index}),G=l(()=>{var t;return(t=e(o))==null?void 0:t.length});const Q=l(()=>Array(e(G)).fill(!1)),R=l(()=>Array(e(G)).fill(!0));let j=l(()=>{var t;return oe+"/audios/"+((t=e(b))==null?void 0:t.audio)});function K(t,i){r(y,!1),r(c,!0),r(m,i===e(E)),r(p,!0),r(v,!1)}function N(){let t=W();a.handleNextRound(t),r(p,!1)}function W(){let t=0;return e(m)&&(t+=1e4,t+=Math.max(-416*e(f)+8e3,2e3*.9^e(f)),t+=Math.max(-1234*e(g)+5e3,2e3*.9^e(g))),t}function q(){setInterval(()=>{e(y)&&B(f)},1e3)}q();var S=Z(),D=X(S);{var H=t=>{var i=le(),h=M(i);se(h,{get time(){return e(f)},get trackSource(){return e(j)},get volume(){return u()},get tries(){return A},get repeats(){return e(g)},get trackPaused(){return e(c)},set trackPaused(n){r(c,d(n))}});var T=_(h,2);te(T,{get volume(){return u()},get activeTileList(){return e(Q)},get pauseTileList(){return e(R)},useTileSounds:!1,get instruments(){return e(o)},onmouseup:K});var F=_(T,2);re(F,{get volume(){return u()},set volume(n){u(n)}});var J=_(F,2);{var O=n=>{var x=ie(),U=M(x);ue(U,{onclick:N,get GIFButtonTextSuccess(){return a.GIFButtonTextSuccess},get GIFButtonTextFailure(){return a.GIFButtonTextFailure},get volume(){return u()},get success(){return e(m)},set success(I){r(m,d(I))},get gifSoundPaused(){return e(v)},set gifSoundPaused(I){r(v,d(I))}}),P(x),k(n,x)};C(J,n=>{e(p)&&n(O)})}P(i),k(t,i)};C(D,t=>{e(o)&&t(H)})}k(w,S),Y()}export{ke as G};
