import{a as w,t as _}from"./disclose-version.BKubmXxM.js";import{a8 as Z,c as d,r as l,t as m,s as f,g as I,d as A,b as S,e as J,p as O,n as N,f as U,a as W}from"./runtime.BaLyREtQ.js";import{s as h}from"./render.nOmWuMGw.js";import{s as F}from"./attributes.BN3tEmLz.js";import{i as T,a as X,b as V}from"./instruments.CL6ozyEj.js";import{b as c,u as Y}from"./props.BB9OUOYN.js";import{s as z,B as H}from"./Button3d.WwOf29s3.js";import{I as q,F as $}from"./Icon.L7AOXKZA.js";import{b as C}from"./paths.cUv70mES.js";function ee(t,e,r,s,a){var o=()=>{s(r[t])};r.addEventListener(e,o),o(),(r===document.body||r===window||r===document)&&Z(()=>{r.removeEventListener(e,o)})}const re=["success1.gif","success2.gif","success3.gif","success4.gif","success5.gif","gil-cat.gif","happy-snoopy.gif"],te=["fail1.gif","fail2.gif","fail3.gif","fail4.gif"];function Me(t,e){let r=[];if(e){const s=se(T).filter(o=>o.count>=t);if(s.length===0)throw Error(`Could not find a category with at least ${t} instruments.`);const a=s[Math.floor(Math.random()*s.length)];r=T.filter(o=>o.category===a.name)}else r=T;return r=ae(r).slice(0,t),r.map((s,a)=>({index:a,name:s.name,category:s.category,image:s.image,audio:s.audios[Math.floor(Math.random()*s.audios.length)]}))}function se(t){const e=new Map;return t.forEach(r=>{e.set(r.category,(e.get(r.category)??0)+1)}),Array.from(e,([r,s])=>({name:r,count:s}))}function ae(t){for(let e=t.length;e>0;e--){const r=Math.floor(Math.random()*e);[t[e-1],t[r]]=[t[r],t[e-1]]}return t}function ke(t){return t[Math.floor(Math.random()*t.length)]}function oe(t){const e=t?re:te;return e[Math.floor(Math.random()*e.length)]}function ie(t){return t!=null?parseInt(""+Math.random()*t.length):-1}function je(t,e){const r=[],s=[];do{const a=ie(t);r.includes(a)||(r.push(a),s.push(t[a]))}while(s.length<e);return s}var ne=_(`<div><div><div class="flex h-5/6 w-5/6 flex-row items-center justify-center rounded-full bg-gray-800


            "><div class="flex h-5/6 w-5/6 flex-row items-center justify-center rounded-full border-b-2
                            border-l-2 border-r-2
                            border-t-2 border-b-gray-300
                            border-l-gray-800 border-r-gray-800
                            border-t-gray-300 bg-gray-800"><div class="flex h-5/6 w-5/6 flex-row items-center justify-center rounded-full border-b-2
                            border-l-2 border-r-2
                            border-t-2 border-b-gray-300
                            border-l-gray-800 border-r-gray-800
                            border-t-gray-300 bg-gray-800"><div class="flex h-5/6 w-5/6 flex-row items-center justify-center rounded-full border-b-2
                            border-l-2 border-r-2
                            border-t-2 border-b-gray-300
                            border-l-gray-800 border-r-gray-800
                            border-t-gray-300 bg-gray-800"><div class="flex h-4/6 w-4/6 flex-row items-center justify-center rounded-full bg-red-800"><div class="flex h-1/6 w-1/6 flex-row items-center justify-center rounded-full bg-white"></div></div></div></div></div></div></div></div>`);function de(t,e){let r=c(e,"spinning",3,!1),s=c(e,"height",3,"h-min-1/10 h-full");var a=ne(),o=d(a);l(a),m(()=>{z(a,`flex flex-row items-center justify-center ${s()??""}`),z(o,`flex h-full w-full flex-row items-center justify-center rounded-full bg-gray-600 ${(r()?"animate-spin-slow":"")??""}`)}),w(t,a)}var le=_('<div class="grid grid-cols-2 border-2 border-gray-500 bg-blue-200 text-xs lg:text-2xl"><span class="border-2 border-gray-500 p-1">Geh√∂rt</span> <span class="items-center border-2 border-gray-500 p-1"> </span> <span class="border-2 border-gray-500 p-1">Versuche</span> <span class="items-center border-2 border-gray-500 p-1"> </span> <span class="border-2 border-gray-500 p-1">Zeit</span> <span class="items-center border-2 border-gray-500 p-1"> </span></div>');function ce(t,e){let r=c(e,"time",11,0),s=c(e,"tries",11,0),a=c(e,"repeats",11,0);var o=le(),u=f(d(o),2),b=d(u,!0);l(u);var n=f(u,4),p=d(n,!0);l(n);var g=f(n,4),v=d(g,!0);l(g),l(o),m(()=>{h(b,a()),h(p,s()),h(v,r())}),w(t,o)}var ue=_('<div class="flex h-full w-full flex-col items-center justify-evenly"><div class="h-52 w-52 max-lg:hidden"><!></div> <div class="flex flex-row items-stretch justify-evenly"><span class="ml-1 h-fit w-full border-4 border-gray-500 bg-green-500 p-1 text-xl font-bold text-white"> </span> <span class="h-fit w-full border-4 border-gray-500 bg-green-500 p-1 text-xl font-bold text-white"> </span></div> <div><!></div> <!> <audio></audio></div>');function Ie(t,e){let r=c(e,"volume",3,.5),s=c(e,"trackPaused",15,!0),a=c(e,"time",7,0),o=c(e,"tries",7,0),u=c(e,"repeats",7,0),b=A(0),n=A(0);function p(){S(n,0),s(!1),Y(u)}function g(i){if(isNaN(i))return"...";const R=Math.floor(i/60),P=Math.floor(i%60);return`${R}:${P<10?`0${P}`:P}`}var v=ue(),M=d(v),k=d(M),j=J(()=>!s());de(k,{get spinning(){return I(j)}}),l(M);var x=f(M,2),G=d(x),D=d(G,!0);m(()=>h(D,g(I(n)))),l(G);var E=f(G,2),K=d(E,!0);m(()=>h(K,g(I(b)))),l(E),l(x);var B=f(x,2),Q=d(B);ce(Q,{get time(){return a()},set time(i){a(i)},get repeats(){return u()},set repeats(i){u(i)},get tries(){return o()},set tries(i){o(i)}}),l(B);var L=f(B,2);H(L,{bgFront:"bg-kukuwi-blue",bgBack:"bg-kukuwi-blue-dark",padding:"px-8 py-2",style:"mt-3",onclick:()=>p(),children:(i,R)=>{q(i,{src:$,color:"white",className:"size-24"})},$$slots:{default:!0}});var y=f(L,2);l(v),m(()=>{F(y,"src",e.trackSource),y.volume=r()}),X(y,()=>I(n),i=>S(n,i)),ee("duration","durationchange",y,i=>S(b,i)),V(y,s),w(t,v)}var fe=_(" <br> ",1),ge=_('<div class="fixed bottom-0 top-0 h-screen w-screen flex-col items-center justify-start"><div class="fixed bottom-0 top-0 z-50 flex h-full w-full flex-col items-center justify-start p-7"><img> <!> <audio></audio></div> <div class="z-15 fixed bottom-0 top-0 flex h-screen w-screen flex-col items-center justify-center bg-gray-500 opacity-80"></div></div>');function Fe(t,e){O(e,!0);let r=c(e,"success",11,!0),s=c(e,"gifSoundPaused",15,!0),a=oe(r()),o=r()?C+"/audios/gif-sounds/success-fanfare-trumpets-6185.mp3":C+"/audios/gif-sounds/trumpet-fail-242645.mp3";var u=ge(),b=d(u),n=d(b);F(n,"src",C+"/gifs/"+a);var p=f(n,2);H(p,{get onclick(){return e.onclick},bgFront:"bg-amber-500",bgBack:"bg-amber-700",onmouseup:()=>{},style:"mt-3 flex flex-col justify-center text-3xl font-extrabold",padding:"px-7 py-2",children:(v,M)=>{N();var k=fe(),j=U(k),x=f(j,2);m(()=>{h(j,`${(r()?"RICHTIG :)":"FALSCH :(")??""} `),h(x,` ${(r()?e.GIFButtonTextSuccess:e.GIFButtonTextFailure)??""}`)}),w(v,k)},$$slots:{default:!0}});var g=f(p,2);F(g,"src",o),l(b),N(2),l(u),m(()=>{z(n,`h-5/6 ${(r()?"border-green-800":"border-red-600")??""} border-8 shadow-2xl`),F(n,"alt",r()?"Gewonnen!!!":"Verloren :("),g.volume=e.volume}),V(g,s),w(t,u),W()}export{Fe as G,Ie as M,je as a,ie as b,Me as g,ke as s};
