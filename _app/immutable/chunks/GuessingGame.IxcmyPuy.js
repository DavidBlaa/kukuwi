import"./disclose-version.Bg9kRutz.js";import{p as Y,b as r,g as e,u as C,f as Z,a as $,d as s,c as d,r as l,s as G,e as c}from"./runtime.BF1lsdxA.js";import{c as ee,a as S,t as z}from"./template.sUr9O-vt.js";import{i as L}from"./if.B6rBiUnJ.js";import{b as te,p as m}from"./props.BJTZrMLw.js";import{o as re}from"./index-client.CXdwGFqR.js";import{M as se,S as ae}from"./MidiBoardGrid.Cjri-HSY.js";import{M as ne}from"./MusicControl.vki3ESvz.js";import{g as ue,s as oe,G as ie}from"./GIF.CfLliKH8.js";import{k as M}from"./klangQuizLevels.C_kQ09Xn.js";import{b as de}from"./paths.BOoJUsUO.js";var le=z('<div class="absolute left-0 top-0"><!></div>'),ce=z('<div class="[rotate-y-20deg] flex size-full justify-evenly rounded-2xl border-x-[10px] border-b-[20px] border-t-[10px] border-b-gray-600 border-l-gray-200 border-r-gray-400 border-t-gray-400 bg-[#d1d5db] p-3 shadow-2xl lg:p-10"><div class="basis-2/12"><!></div> <div class="basis-8/12"><!></div> <div class="basis-1/12"><!></div> <!></div>');function Ge(A,a){Y(a,!0);let u=te(a,"volume",15),f=s(!0),g=s(!0),p=s(!1),v=s(!1),T=s(0),F=s(!0),E=0,h=s(0),o=s(void 0),b=s(void 0);re(()=>{r(o,m(ue(M[a.difficulty-1].instruments,M[a.difficulty-1].sameCategory))),r(b,m(oe(e(o)))),r(f,!1),C(h)});let Q=c(()=>{var t;return(t=e(b))==null?void 0:t.index}),B=c(()=>{var t;return(t=e(o))==null?void 0:t.length});const R=c(()=>Array(e(B)).fill(!1)),j=c(()=>Array(e(B)).fill(!0));let w=c(()=>{var t;return de+"/audios/"+((t=e(b))==null?void 0:t.audio)});function K(t,i){r(F,!1),r(f,!0),r(v,i===e(Q)),r(p,!0),r(g,!1)}function N(){const t=e(v)?1e3:0;a.handleNextRound(t),r(p,!1)}function W(){setInterval(()=>{e(F)&&C(T)},1e3)}W();var P=ee(),q=Z(P);{var D=t=>{var i=ce(),x=d(i),H=d(x);ne(H,{get time(){return e(T)},get trackSource(){return e(w)},get volume(){return u()},get tries(){return E},get repeats(){return e(h)},get trackPaused(){return e(f)},set trackPaused(n){r(f,m(n))}}),l(x);var _=G(x,2),J=d(_);se(J,{get volume(){return u()},get activeTileList(){return e(R)},get pauseTileList(){return e(j)},useTileSounds:!1,get instruments(){return e(o)},onmouseup:K}),l(_);var I=G(_,2),O=d(I);ae(O,{get volume(){return u()},set volume(n){u(n)}}),l(I);var U=G(I,2);{var V=n=>{var y=le(),X=d(y);ie(X,{onclick:N,get GIFButtonTextSuccess(){return a.GIFButtonTextSuccess},get GIFButtonTextFailure(){return a.GIFButtonTextFailure},get volume(){return u()},get success(){return e(v)},set success(k){r(v,m(k))},get gifSoundPaused(){return e(g)},set gifSoundPaused(k){r(g,m(k))}}),l(y),S(n,y)};L(U,n=>{e(p)&&n(V)})}l(i),S(t,i)};L(q,t=>{e(o)&&t(D)})}S(A,P),$()}export{Ge as G};
